{"version":3,"sources":["Components/Preview/Error/network-error.svg","Components/Dropdown/index.jsx","Redux/actions/notifications.js","Redux/actions/navigation.js","Components/Breadcrumb/index.jsx","Redux/actions/preview.js","Components/ReadableOctets/index.js","Components/ReadableDate/index.js","Components/Icon/index.jsx","Components/FileRow/index.jsx","Components/FileRow/NewFile.jsx","Components/FileRow/NewFolder.jsx","Components/FilesTable/index.jsx","Components/Preview/Image/Image.js","Components/TextEditor/helpers/highlight.js","Components/TextEditor/helpers/marked.js","Components/TextEditor/helpers/insertText.js","Components/TextEditor/helpers/lang.js","Components/TextEditor/helpers/keydownListen.js","Components/TextEditor/editor/index.jsx","Components/TextEditor/index.js","Components/Preview/Text/Text.js","Components/Preview/PDF/PDF.js","Components/Preview/Error/Error.js","Components/Preview/Zip/Zip.js","Components/LoadingSpinner/index.jsx","Components/Preview/index.js","Components/Notifications/index.jsx","App.js","registerServiceWorker.js","Redux/reducers/navigation.js","Redux/reducers/preview.js","Redux/reducers/notifications.js","Redux/reducers/index.js","Redux/configureStore.js","index.js"],"names":["module","exports","Dropdown","state","id","Math","random","toString","substr","open","toggleState","setState","prevState","this","Tag","props","tag","btn","attrs","className","includes","BtnTag","onClick","data-toggle","aria-haspopup","aria-expanded","text","direction","aria-labelledby","children","Component","addNotification","shortText","longText","type","notification","Date","now","removeNotification","pathToBreadcrumb","path","slice","substring","length","split","map","item","index","array","route","filter","x","y","join","folderName","receiveFileList","json","fileList","sort","a","b","firstname","fetchFileList","dispatch","breadcrumb","requestFileList","fetch","process","method","credentials","then","response","ok","statusText","refreshFileList","receiveRefreshFileList","toggleFileSelect","file","selectAllFiles","selectStatus","enableFileEditName","disableFileEditName","submitNewDir","name","body","JSON","stringify","url","msg","detail","submitNewFile","renameFile","newUrl","newurl","replace","compressFiles","files","deleteFiles","urls","downloadFile","blob","saveAs","sortFilesBy","prop","filterFiles","Breadcrumb","handleUploadFilesClicked","dropzone","ref","handleNewDirClicked","handleNewFileClicked","last_item","data","style","scrollbarWidth","aria-label","width","key","Link","to","window","location","hash","aria-current","connect","previewFile","addPreviewFile","receivePreviewContent","closePreviewFile","selectPreview","saveFile","content","ReadableOctets","size","i","floor","log","isNaN","pow","toFixed","humanFileSize","ReadableDate","current","previous","elapsed","round","msPerMinute","msPerHour","msPerDay","title","Intl","DateTimeFormat","year","month","day","hour","minute","format","timeDifference","icons","folder","height","viewBox","fill","xmlns","d","fillRule","clipRule","text_file","uncheck_box","check_box","check","cross","vdots","Icon","icon","FileRow","handleCancelEditNameClick","e","stopPropagation","nativeEvent","stopImmediatePropagation","handleSubmitEditNameClick","handleSelectClick","curVal","handleFileClick","selected","checked","marginLeft","opacity","onChange","editName","placeholder","defaultValue","el","value","fontSize","mtime","NewFileRow","handleCancelClick","handleSubmitNewFileClick","filename","navigation","NewDirRow","handleSubmitNewDirClick","FilesTable","allSelected","handleSelectAllClicked","handleEditNameClick","forEach","handleDownloadfilesClick","handleCompressfilesClick","handleDeletefilesClick","selectedFiles","onDrop","bind","disableClick","node","zIndex","scope","isFileListLoaded","displayNewFile","NewFile","displayNewDir","f","dir","bottom","left","right","transition","FormData","append","uploadFiles","displayHiddenFiles","Image","URL","createObjectURL","href","src","alt","Hljs","require","registerLanguage","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","code","highlightAuto","paragraph","link","insert","$vm","prefix","hint","subfix","selectionStart","start","end","selectionEnd","restoreTop","scrollTop","focus","toolbar","h1","h2","h3","h4","image","tab","zh","undo","redo","save","en","KEY_CODE","MdEditor","handleChange","target","saveHistory","textInsert","currentTarget","getAttribute","f_history","f_history_index","handleLineIndex","preview","expand","allowsave","onSave","handleEditorRef","line_index","ins","addEventListener","ctrlKey","metaKey","altKey","shiftKey","keyCode","preventDefault","push","nextProps","clearTimeout","currentTimeout","setTimeout","splice","shift","previewClass","classNames","editorClass","previewActive","fullscreen","expandActive","lineNumStyles","hidden","lineNum","lang","controlbar","data-type","allowfullscreen","allowpreview","list","wrap","dangerouslySetInnerHTML","__html","React","defaultProps","Editor","Text","handleSaveClick","handleValueChange","_this","reader","FileReader","onload","result","readAsText","TextEditor","match","PDF","pluginspage","Error","logo","Zip","zip","entries","contents","entry","directory","splitname","uncompressedSize","lastModDateRaw","createDir","dirname","createReader","BlobReader","getEntries","close","error","tmp","ZipDir","expanded","handleClick","ZipFile","LoadingSpinner","class","role","Preview","handleTabClick","handleCloseTabClick","addButton","label","callback","actions","click","previewFiles","aria-selected","activePreview","aria-hidden","borderLeft","borderRight","isContentLoaded","Notifications","handleCloseClicked","position","notifications","n","aria-live","aria-atomic","data-dismiss","App","handleSortByName","handleSortBySize","handleSortByDate","handleFilterChanged","pathname","unlisten","history","listen","action","maxWidth","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","catch","initialNavigationState","previewFileList","initialPreviewState","initialNotificationsState","combineReducers","elem","self","element","indexOf","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","store","BrowserRouter","basename","Route","document","getElementById","origin","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.45fe08a8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/network-error.9032283e.svg\";","import React, { Component } from 'react';\r\n\r\nclass Dropdown extends Component {\r\n    state = {\r\n        id: '_' + Math.random().toString(36).substr(2, 9),\r\n        open: false,\r\n    }\r\n\r\n    toggleState = () => {\r\n        this.setState(prevState => ({\r\n            open: !prevState.open\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        const { open } = this.state\r\n        const Tag = this.props.tag||\"div\";\r\n        \r\n        let btn = {...this.props.btn};\r\n        if(!btn.attrs) btn.attrs = {};\r\n        if(!btn.attrs.className) btn.attrs.className = '';\r\n        if(!btn.attrs.className.includes('dropdown-toggle'))btn.attrs.className=`dropdown-toggle ${btn.attrs.className}`;\r\n\r\n        const id = btn.attrs.id||this.state.id;\r\n        const BtnTag = this.props.btn.tag||\"div\";\r\n        return (\r\n            <Tag {...this.props} className={`dropdown${open? \" show\":\"\"}${this.props.className? ` ${this.props.className}`:\"\"}`} onClick={() => this.toggleState()}>\r\n                <BtnTag id={id} data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded={open} {...btn.attrs}>{btn.text}</BtnTag>\r\n                <div className={`dropdown-menu${open? \" show\":\"\"}${this.props.direction===\"right\"? \" dropdown-menu-right\":\"\"}`} aria-labelledby={id}>\r\n                    {this.props.children}\r\n                </div>\r\n            </Tag>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Dropdown;","export const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\r\nexport const REMOVE_NOTIFICATION = 'REMOVE_NOTIFICATION';\r\n\r\nexport function addNotification(shortText, longText) {\r\n    return {\r\n        type: ADD_NOTIFICATION,\r\n        notification: { id: Date.now(), shortText: shortText, longText: longText }\r\n    }\r\n}\r\n\r\nexport function removeNotification(notification) {\r\n    return {\r\n        type: REMOVE_NOTIFICATION,\r\n        notification\r\n    }\r\n}","import { addNotification } from \"./notifications\";\r\nimport { saveAs } from 'file-saver';\r\n\r\nexport const RECEIVE_FILE_LIST = 'RECEIVE_FILE_LIST';\r\nexport const REQUEST_FILE_LIST = 'REQUEST_FILE_LIST';\r\nexport const ENABLE_FILE_EDIT_NAME = 'ENABLE_FILE_EDIT_NAME';\r\nexport const DISABLE_FILE_EDIT_NAME = 'DISABLE_FILE_EDIT_NAME';\r\nexport const TOGGLE_SELECT_FILE = 'TOGGLE_SELECT_FILE';\r\nexport const SELECT_ALL_FILES = 'SELECT_ALL_FILES';\r\nexport const TOGGLE_NEW_DIR = 'TOGGLE_NEW_DIR';\r\nexport const TOGGLE_NEW_FILE = 'TOGGLE_NEW_FILE';\r\nexport const HIDE_NEW_DIR = 'HIDE_NEW_DIR';\r\nexport const HIDE_NEW_FILE = 'HIDE_NEW_FILE';\r\nexport const REFRESH_FILE_LIST = 'REFRESH_FILE_LIST';\r\nexport const TOGGLE_HIDDEN_FILES = 'TOGGLE_HIDDEN_FILES';\r\nexport const UPDATE_FILTER = 'UPDATE_FILTER';\r\nexport const SORT_BY = 'SORT_BY';\r\n\r\nfunction pathToBreadcrumb(path) {\r\n    return (path.slice(-1) === '/' ? path.substring(0, path.length - 1) : path).split('/').map((item, index, array) => {\r\n        return { route: array.filter((x, y) => y <= index).join('/'), folderName: item }\r\n    });\r\n}\r\n\r\nfunction requestFileList(path) {\r\n    return {\r\n        type: REQUEST_FILE_LIST,\r\n        breadcrumb: pathToBreadcrumb(path),\r\n        path\r\n    }\r\n}\r\n\r\nfunction receiveFileList(json) {\r\n    return {\r\n        type: RECEIVE_FILE_LIST,\r\n        fileList: json.sort((a, b) => {\r\n            if (a.type === b.type) {\r\n                if (a.firstname < b.firstname) return -1;\r\n                if (a.firstname > b.firstname) return 1;\r\n                return 0;\r\n            } else if (a.type === \"dir\" && b.type === \"file\") return -1;\r\n            else return 1;\r\n        })\r\n    };\r\n}\r\n\r\nexport function fetchFileList(path) {\r\n    return function action(dispatch) {\r\n        dispatch(requestFileList(path));\r\n\r\n        return fetch(`${process.env.REACT_APP_API_DIRECTORY}?url=${path}`, {\r\n            method: 'GET',\r\n            credentials: 'include'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => dispatch(receiveFileList(json)));\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction receiveRefreshFileList(json) {\r\n    return {\r\n        type: REFRESH_FILE_LIST,\r\n        //fileList: json.dirs.map((e, i, a) => { e.type = 'dir'; return e; }).concat(json.files)\r\n        fileList: json.sort((a, b) => {\r\n            if (a.type === \"dir\" && b.type === \"file\") return 1;\r\n            if (a.type === b.type) {\r\n                if (a.firstname < b.firstname) return -1;\r\n                if (a.firstname > b.firstname) return 1;\r\n                return 0;\r\n            } else if (a.type === \"dir\" && b.type === \"file\") return 1;\r\n            else return -1;\r\n        })\r\n    }\r\n}\r\n\r\nexport function refreshFileList(path) {\r\n    return function action(dispatch) {\r\n        return fetch(`${process.env.REACT_APP_API_DIRECTORY}?url=${path}`, {\r\n            method: 'GET',\r\n            credentials: 'include'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => dispatch(receiveRefreshFileList(json)));\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleFileSelect(file) {\r\n    return {\r\n        type: TOGGLE_SELECT_FILE,\r\n        file\r\n    }\r\n}\r\n\r\nexport function selectAllFiles(selectStatus) {\r\n    return {\r\n        type: SELECT_ALL_FILES,\r\n        selectStatus\r\n    }\r\n}\r\n\r\nexport function enableFileEditName(file) {\r\n    return {\r\n        type: ENABLE_FILE_EDIT_NAME,\r\n        file\r\n    }\r\n}\r\n\r\nexport function disableFileEditName(file) {\r\n    return {\r\n        type: DISABLE_FILE_EDIT_NAME,\r\n        file\r\n    }\r\n}\r\n\r\nexport function toggleNewDir() {\r\n    return {\r\n        type: TOGGLE_NEW_DIR,\r\n    }\r\n}\r\n\r\nexport function toggleNewFile() {\r\n    return {\r\n        type: TOGGLE_NEW_FILE,\r\n    }\r\n}\r\n\r\nexport function hideNewDir() {\r\n    return {\r\n        type: HIDE_NEW_DIR,\r\n    }\r\n}\r\n\r\nexport function hideNewFile() {\r\n    return {\r\n        type: HIDE_NEW_FILE,\r\n    }\r\n}\r\n\r\nexport function submitNewDir(path, name) {\r\n    return function action(dispatch) {\r\n        dispatch(hideNewDir());\r\n        return fetch(process.env.REACT_APP_API_DIRECTORY, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            body: JSON.stringify({ url: path + '/' + name })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function submitNewFile(path, name) {\r\n    return function action(dispatch) {\r\n        dispatch(hideNewFile());\r\n        return fetch(process.env.REACT_APP_API_FILE, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            body: JSON.stringify({ url: path + '/' + name })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function renameFile(file, newUrl) {\r\n    return function action(dispatch) {\r\n        return fetch(process.env.REACT_APP_API_FILE, {\r\n            method: 'PUT',\r\n            credentials: 'include',\r\n            body: JSON.stringify({ url: file.url, newurl: newUrl })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(file.url.replace(file.name, ''))); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function uploadFiles(files, path) {\r\n    return function action(dispatch) {\r\n        let data = new FormData();\r\n        data.append('url', path);\r\n        files.forEach(function(file, index) {\r\n            data.append('file-'+index, file, file.name)\r\n        });\r\n        fetch(process.env.REACT_APP_API_FILE, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            body: data\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleHiddenFiles() {\r\n    return {\r\n        type: TOGGLE_HIDDEN_FILES\r\n    }\r\n}\r\n\r\nexport function compressFiles(files, path) {\r\n    return function action(dispatch) {\r\n        fetch(process.env.REACT_APP_API_ZIP, {\r\n            method: 'POST',\r\n            credentials: 'include',\r\n            body: JSON.stringify({ url: path, files: files })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function deleteFiles(urls, path) {\r\n    return function action(dispatch) {\r\n        for (let url in urls) {\r\n\r\n            fetch(process.env.REACT_APP_API_FILE, {\r\n                method: 'DELETE',\r\n                credentials: 'include',\r\n                body: JSON.stringify({ url: url })\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n                } else {\r\n                    response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function downloadFile(file) {\r\n    return function action(dispatch) {\r\n        fetch(process.env.REACT_APP_API_FILE + '?url=' + file.url, {\r\n            method: 'GET',\r\n            credentials: 'include'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.blob().then(blob => saveAs(blob, file.name));\r\n            } else {\r\n                response.text().then((text) => { dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport function sortFilesBy(prop) {\r\n    return {\r\n        type: SORT_BY,\r\n        prop\r\n    }\r\n}\r\n\r\nexport function filterFiles(filter) {\r\n    return {\r\n        type: UPDATE_FILTER,\r\n        filter\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { toggleNewDir, toggleNewFile } from '../../Redux/actions/navigation';\r\n\r\nimport Dropdown from '../Dropdown';\r\n\r\nclass Breadcrumb extends Component {\r\n    render() {\r\n        const last_item=this.props.data[this.props.data.length-1];\r\n        return (\r\n            <>\r\n                <div className=\"d-inline-block overflow-auto\" style={{scrollbarWidth: 'thin',}}>\r\n                    <ol aria-label=\"breadcrumb\" className=\"breadcrumb flex-nowrap overflow-auto mb-0 pl-0 pr-0 bg-transparent\" style={{width:\"max-content\"}}>\r\n                        {/* ITEMS */}\r\n                        {this.props.data.map((item, index) => {\r\n                            return (index===this.props.data.length-1)?<li className=\"breadcrumb-item text-nowrap\" key={item.route}></li>:<li className=\"breadcrumb-item text-nowrap\" key={item.route}><Link to={`${item.route}${window.location.hash}`} className=\"breadcrumb-item text-nowrap\">{!item.route?\"Home\":item.folderName}</Link></li>\r\n                        })}\r\n                    </ol>\r\n                </div>\r\n                {/* LAST ITEM */}\r\n                {this.props.data.length && <Dropdown className=\"breadcrumb-item active text-nowrap mr-auto d-inline-block\" aria-current=\"page\" tag=\"div\" btn={{text:!last_item.route?\"Home\":last_item.folderName, tag: \"button\", attrs:{className:\"btn btn-outline-primary\"}}} direction={!last_item.route?\"left\":\"right\"}>\r\n                    <button className=\"dropdown-item\" onClick={() => this.handleNewFileClicked()}>New file</button>\r\n                    <button className=\"dropdown-item\" onClick={() => this.handleNewDirClicked()}>New folder</button>\r\n                    <div className=\"dropdown-divider\"></div>\r\n                    <button className=\"dropdown-item\" onClick={() => this.handleUploadFilesClicked()}>Upload file</button>\r\n                </Dropdown>}\r\n            </>\r\n        );\r\n    }\r\n\r\n    handleUploadFilesClicked = () => {\r\n        this.props.dropzone.ref.open();\r\n    }\r\n\r\n    handleNewDirClicked = () => {\r\n        this.props.dispatch(toggleNewDir());\r\n    }\r\n\r\n    handleNewFileClicked = () => {\r\n        this.props.dispatch(toggleNewFile());\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {return {}};\r\n  \r\nexport default connect(mapStateToProps)(Breadcrumb);","import { addNotification } from \"./notifications\";\r\n\r\nexport const ADD_PREVIEW_FILE = 'ADD_PREVIEW_FILE';\r\nexport const REMOVE_PREVIEW_FILE = 'REMOVE_PREVIEW_FILE';\r\nexport const REQUEST_PREVIEW_CONTENT = 'REQUEST_PREVIEW_CONTENT';\r\nexport const RECEIVE_PREVIEW_CONTENT = 'RECEIVE_PREVIEW_CONTENT';\r\nexport const UPDATE_PREVIEW_TAB = 'UPDATE_PREVIEW_TAB';\r\n\r\nexport function previewFile(file) {\r\n    return function action(dispatch) {\r\n        dispatch(addPreviewFile(file));\r\n        fetch('/api/cloud/file?url=' + file.url, { method: 'GET' })\r\n            .then(response => {\r\n                if (response.ok) {\r\n                    // response.json().then((json) => { dispatch(receivePreviewContent(file, json)); });\r\n                    response.blob().then((blob) => { dispatch(receivePreviewContent(file, blob)); });\r\n                } else {\r\n                    response.text().then((text) => { dispatch(receivePreviewContent(file, { type: 'error' })); dispatch(addNotification(response.statusText, text)) });\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function closePreviewFile(url) {\r\n    return {\r\n        type: REMOVE_PREVIEW_FILE,\r\n        url\r\n    }\r\n}\r\n\r\nfunction addPreviewFile(file) {\r\n    return {\r\n        type: ADD_PREVIEW_FILE,\r\n        file\r\n    }\r\n}\r\n\r\nfunction receivePreviewContent(file, blob) {\r\n    return {\r\n        type: RECEIVE_PREVIEW_CONTENT,\r\n        blob,\r\n        file\r\n    }\r\n}\r\n\r\nexport function selectPreview(index) {\r\n    return {\r\n        type: UPDATE_PREVIEW_TAB,\r\n        index\r\n    }\r\n}\r\n\r\nexport function saveFile(path, content) {\r\n    return function action(dispatch) {\r\n        fetch('/api/cloud/file', {\r\n            method: 'PUT',\r\n            body: JSON.stringify({ url: path, content: content })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(addNotification(json.msg, json.detail)) });\r\n            } else {\r\n                response.text().then((text) => { dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nclass ReadableOctets extends Component {\r\n    humanFileSize(size) {\r\n        var i = Math.floor(Math.log(size) / Math.log(1024));\r\n        return isNaN(size) ? '' : (size === 0) ? '0 B' : (size / Math.pow(1024, i)).toFixed(2) * 1 + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i];\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <span {...this.props}>\r\n                {this.humanFileSize(this.props.children)}\r\n            </span >\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReadableOctets;","import React, { Component } from 'react';\r\n\r\nclass ReadableDate extends Component {\r\n    timeDifference(current, previous) {\r\n        var msPerMinute = 60 * 1000;\r\n        var msPerHour = msPerMinute * 60;\r\n        var msPerDay = msPerHour * 24;\r\n        var msPerMonth = msPerDay * 30;\r\n        var msPerYear = msPerDay * 365;\r\n\r\n        var elapsed = current - previous;\r\n\r\n        if (elapsed < msPerMinute) {\r\n            return Math.round(elapsed / 1000) + ((elapsed / 1000) < 2 ? ' second' : ' seconds') + ' ago';\r\n        } else if (elapsed < msPerHour) {\r\n            return Math.round(elapsed / msPerMinute) + ((elapsed / msPerMinute) < 2 ? ' minute' : ' minutes') + ' ago';\r\n        } else if (elapsed < msPerDay) {\r\n            return Math.round(elapsed / msPerHour) + ((elapsed / msPerHour) < 2 ? ' hour' : ' hours') + ' ago';\r\n        } else if (elapsed < msPerMonth) {\r\n            return Math.round(elapsed / msPerDay) + ((elapsed / msPerDay) < 2 ? ' day' : ' days') + ' ago';\r\n        } else if (elapsed < msPerYear) {\r\n            return Math.round(elapsed / msPerMonth) + ((elapsed / msPerMonth) < 2 ? ' month' : ' months') + ' ago';\r\n        } else {\r\n            return Math.round(elapsed / msPerYear) + ((elapsed / msPerYear) < 2 ? ' year' : ' years') + ' ago';\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span {...this.props} title={(this.props.children === '' || typeof this.props.children === 'undefined') ? '' : new Intl.DateTimeFormat('fr-FR', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' }).format(this.props.children)}>\r\n                {this.timeDifference(Date.now(), this.props.children)}\r\n            </span >\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReadableDate;","import React, { Component } from 'react';\r\n\r\nconst icons = {\r\n    folder:<svg className=\"bi bi-folder\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.828 6a3 3 0 01-2.12-.879l-.83-.828A1 1 0 008.173 4H4.5a1 1 0 00-1 .981L3.546 6h-1L2.5 5a2 2 0 012-2h3.672a2 2 0 011.414.586l.828.828A2 2 0 0011.828 5v1z\"></path><path fillRule=\"evenodd\" d=\"M15.81 6H4.19a1 1 0 00-.996 1.09l.637 7a1 1 0 00.995.91h10.348a1 1 0 00.995-.91l.637-7A1 1 0 0015.81 6zM4.19 5a2 2 0 00-1.992 2.181l.637 7A2 2 0 004.826 16h10.348a2 2 0 001.991-1.819l.637-7A2 2 0 0015.81 5H4.19z\" clipRule=\"evenodd\"></path></svg>,\r\n    text_file:<svg className=\"bi bi-document-text\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M6 3h8a2 2 0 012 2v10a2 2 0 01-2 2H6a2 2 0 01-2-2V5a2 2 0 012-2zm0 1a1 1 0 00-1 1v10a1 1 0 001 1h8a1 1 0 001-1V5a1 1 0 00-1-1H6z\" clipRule=\"evenodd\"></path><path fillRule=\"evenodd\" d=\"M6.5 14a.5.5 0 01.5-.5h3a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5zm0-2a.5.5 0 01.5-.5h6a.5.5 0 010 1H7a.5.5 0 01-.5-.5z\" clipRule=\"evenodd\"></path></svg>,\r\n    uncheck_box:<svg className=\"bi bi-check-box\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M3.5 15A1.5 1.5 0 005 16.5h10a1.5 1.5 0 001.5-1.5v-5a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V5a.5.5 0 01.5-.5h8a.5.5 0 000-1H5A1.5 1.5 0 003.5 5v10z\" clipRule=\"evenodd\"></path></svg>,\r\n    check_box:<svg className=\"bi bi-check-box\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M17.354 4.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3-3a.5.5 0 11.708-.708L10 11.293l6.646-6.647a.5.5 0 01.708 0z\" clipRule=\"evenodd\"></path><path fillRule=\"evenodd\" d=\"M3.5 15A1.5 1.5 0 005 16.5h10a1.5 1.5 0 001.5-1.5v-5a.5.5 0 00-1 0v5a.5.5 0 01-.5.5H5a.5.5 0 01-.5-.5V5a.5.5 0 01.5-.5h8a.5.5 0 000-1H5A1.5 1.5 0 003.5 5v10z\" clipRule=\"evenodd\"></path></svg>,\r\n    // uncheck_box:<svg className=\"bi bi-square\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M16 3H4a1 1 0 00-1 1v12a1 1 0 001 1h12a1 1 0 001-1V4a1 1 0 00-1-1zM4 2a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V4a2 2 0 00-2-2H4z\" clipRule=\"evenodd\"></path></svg>,\r\n    check:<svg className=\"bi bi-check\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M15.854 5.646a.5.5 0 010 .708l-7 7a.5.5 0 01-.708 0l-3.5-3.5a.5.5 0 11.708-.708L8.5 12.293l6.646-6.647a.5.5 0 01.708 0z\" clipRule=\"evenodd\"></path></svg>,\r\n    cross:<svg className=\"bi bi-x\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M5.646 5.646a.5.5 0 000 .708l8 8a.5.5 0 00.708-.708l-8-8a.5.5 0 00-.708 0z\" clipRule=\"evenodd\"></path><path fillRule=\"evenodd\" d=\"M14.354 5.646a.5.5 0 010 .708l-8 8a.5.5 0 01-.708-.708l8-8a.5.5 0 01.708 0z\" clipRule=\"evenodd\"></path></svg>,\r\n    vdots:<svg className=\"bi bi-three-dots-vertical\" width=\"1em\" height=\"1em\" viewBox=\"0 0 20 20\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M11.5 15a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm0-5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z\" clipRule=\"evenodd\"></path></svg>,\r\n}\r\n\r\nclass Icon extends Component {\r\n\r\n    render() {\r\n        return <i {...this.props}>{icons[this.props.icon]}</i>||<i {...this.props}></i>;\r\n    }\r\n}\r\n\r\nexport default Icon;","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { renameFile, toggleFileSelect, disableFileEditName } from '../../Redux/actions/navigation';\r\nimport { previewFile } from '../../Redux/actions/preview';\r\nimport { connect } from 'react-redux'\r\n\r\nimport ReadableOctets from '../ReadableOctets';\r\nimport ReadableDate from '../ReadableDate';\r\nimport Icon from '../Icon';\r\n\r\nclass FileRow extends Component {\r\n\r\n    render() {\r\n        const selected = this.props.file.selected;\r\n        return (\r\n            <tr className={this.props.file.selected ? 'bg-light' : ''} onClick={() => this.handleSelectClick(selected)}>\r\n                <td className=\"text-nowrap\">\r\n                    {!this.props.file.selected && <Icon icon={this.props.file.type===\"dir\"?\"folder\":\"text_file\"} />}\r\n                    <input type=\"checkbox\" id=\"select_all\" checked={this.props.file.selected} style={{ marginLeft: this.props.file.selected ? '2px' : '-15px', opacity: this.props.file.selected ? '1' : '0' }} onChange={() => {}} />\r\n                </td>\r\n                <td className=\"w-100\">\r\n                    {/* DIRECTORY */}\r\n                    {(this.props.file.editName !== true && this.props.file.type === \"dir\") && (<Link className=\"text-nowrap\" to={this.props.file.url + window.location.hash} onClick={(e) => {e.stopPropagation();e.nativeEvent.stopImmediatePropagation();}}>{this.props.file.name}</Link>)}\r\n                    {/* FILE */}\r\n                    {(this.props.file.editName !== true && this.props.file.type !== \"dir\") && (<button className=\"btn btn-link p-0 text-nowrap\" onClick={(e) => this.handleFileClick(e)}>{this.props.file.name}</button>)}\r\n                    {/* EDIT NAME */}\r\n                    {(this.props.file.editName === true) && (\r\n                        <form className=\"form-group m-0\">\r\n                            <div className=\"input-group\">\r\n                                <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"New filename\" aria-label=\"New filename\" defaultValue={this.props.file.url} ref={el => this.newurl = el} />\r\n                                <div className=\"input-group-append\">\r\n                                    <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Confirm\" onClick={(e) => this.handleSubmitEditNameClick(e,this.newurl.value)}><Icon style={{ fontSize: 18 }} icon=\"check\"></Icon></button>\r\n                                    <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Cancel\" onClick={(e) => this.handleCancelEditNameClick(e)}><Icon style={{ fontSize: 18 }} icon=\"cross\"></Icon></button>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    )}\r\n                </td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell text-right\"><ReadableDate>{this.props.file.mtime}</ReadableDate></td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell text-right\"><ReadableOctets>{this.props.file.size}</ReadableOctets></td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    handleCancelEditNameClick = (e) => {\r\n        e.stopPropagation();\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        this.props.dispatch(disableFileEditName(this.props.file));\r\n    }\r\n\r\n    handleSubmitEditNameClick = (e,newurl) => {\r\n        e.stopPropagation();\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        this.props.dispatch(renameFile(this.props.file, newurl));\r\n    }\r\n\r\n    handleSelectClick = (curVal) => {\r\n        this.props.dispatch(toggleFileSelect(this.props.file));\r\n        this.setState({});\r\n    }\r\n\r\n    handleFileClick = (e) => {\r\n        e.stopPropagation();\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        this.props.dispatch(previewFile(this.props.file));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(FileRow);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { submitNewFile, hideNewFile } from '../../Redux/actions/navigation';\r\n\r\nimport Icon from '../Icon';\r\n\r\nclass NewFileRow extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td className=\"text-nowrap\"><Icon icon=\"text_file\"/></td>\r\n                <td className=\"w-100\">\r\n                    <form className=\"form-group m-0\">\r\n                        <div className=\"input-group\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"New file name\" aria-label=\"New file name\" ref={el => this.newurl = el} />\r\n                            <div className=\"input-group-append\">\r\n                                <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Confirm\" onClick={() => this.handleSubmitNewFileClick(this.newurl.value)}><Icon style={{ fontSize: 18 }} icon=\"check\"></Icon></button>\r\n                                <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Cancel\" onClick={() => this.handleCancelClick()}><Icon style={{ fontSize: 18 }} icon=\"cross\"></Icon></button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell\">{/* NO UPDATE DATE YET */}</td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell\">{/* NO SIZE YET */}</td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    handleCancelClick = () => {\r\n        this.props.dispatch(hideNewFile());\r\n    }\r\n\r\n    handleSubmitNewFileClick = (filename) => {\r\n        this.props.dispatch(submitNewFile(this.props.path, filename));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        path: state.navigation.path\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(NewFileRow);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { submitNewDir, hideNewDir } from '../../Redux/actions/navigation';\r\n\r\nimport Icon from '../Icon';\r\n\r\nclass NewDirRow extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <tr>\r\n                <td className=\"text-nowrap\"><Icon icon=\"folder\"/></td>\r\n                <td className=\"w-100\">\r\n                    <form className=\"form-group m-0\">\r\n                        <div className=\"input-group\">\r\n                            <input type=\"text\" className=\"form-control form-control-sm\" placeholder=\"New directory name\" aria-label=\"New directory name\" ref={el => this.newurl = el} />\r\n                            <div className=\"input-group-append\">\r\n                                <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Confirm\" onClick={() => this.handleSubmitNewDirClick(this.newurl.value)}><Icon style={{ fontSize: 18 }} icon=\"check\"></Icon></button>\r\n                                <button className=\"btn btn-sm btn-outline-secondary pt-0 pb-0\" type=\"button\" title=\"Cancel\" onClick={() => this.handleCancelClick()}><Icon style={{ fontSize: 18 }} icon=\"cross\"></Icon></button>\r\n                            </div>\r\n                        </div>\r\n                    </form>\r\n                </td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell\">{/* NO UPDATE DATE YET */}</td>\r\n                <td className=\"text-nowrap d-none d-sm-table-cell\">{/* NO SIZE YET */}</td>\r\n            </tr>\r\n        );\r\n    }\r\n\r\n    handleCancelClick = () => {\r\n        this.props.dispatch(hideNewDir());\r\n    }\r\n\r\n    handleSubmitNewDirClick = (filename) => {\r\n        this.props.dispatch(submitNewDir(this.props.path, filename));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        path: state.navigation.path\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(NewDirRow);","import React, { Component } from 'react';\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport FileRow from '../FileRow';\r\nimport NewFileRow from '../FileRow/NewFile';\r\nimport NewDirRow from '../FileRow/NewFolder';\r\n\r\n// import SkeletonFileRow from '../../skeleton/file_row';\r\n\r\n\r\nimport { selectAllFiles, compressFiles, deleteFiles, uploadFiles, enableFileEditName, downloadFile } from '../../Redux/actions/navigation';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nclass FilesTable extends Component {\r\n    state = {\r\n        allSelected: false,\r\n    }\r\n\r\n    render() {\r\n        const selectedFiles = this.props.fileList.filter(file => file.selected);\r\n        return (\r\n            <div className={this.props.className + \" overflow-hidden h-100 container-fluid flex-grow-1 flex-shrink-1 position-relative\"}>\r\n            <Dropzone className=\"overflow-auto h-100 position-static\" onDrop={this.onDrop.bind(this)} disableClick ref={(node) => { this.props.dropzone.ref = node; }}>\r\n                <table className=\"table table-hover h-auto\">\r\n                    <thead className=\"sticky-top bg-white shadow-sm\" style={{zIndex:999}}>\r\n                        <tr>\r\n                            <th scope=\"col\" onClick={() => this.handleSelectAllClicked(this.state.allSelected)}>\r\n                                <input type=\"checkbox\" id=\"select_all\" checked={this.state.allSelected} style={{ marginLeft: \"2px\" }} onChange={() => this.handleSelectAllClicked(this.state.allSelected)}/>\r\n                            </th>\r\n                            <th scope=\"col w-100\">Name</th>\r\n                            <th scope=\"col\" className=\"d-none d-sm-table-cell\">Modified</th>\r\n                            <th scope=\"col\" className=\"d-none d-sm-table-cell\">Size</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {/* Skeleton */}\r\n                        {/* {!this.props.isFileListLoaded && <FileListSkeletonItems />} */}\r\n                        {/* New file form */}\r\n                        {this.props.isFileListLoaded && this.props.displayNewFile && <NewFileRow />}\r\n                        {/* New dir form */}\r\n                        {this.props.isFileListLoaded && this.props.displayNewDir && <NewDirRow />}\r\n                        {/* Files */}\r\n                        {this.props.isFileListLoaded && this.props.fileList.filter((f) => f.name.includes(this.props.filter)).sort((a,b) => {\r\n                            if(a.type===\"dir\"&&b.type===\"dir\")\r\n                                return this.props.sort.dir===\"ASC\"?a[this.props.sort.prop]>b[this.props.sort.prop]:a[this.props.sort.prop]<b[this.props.sort.prop];\r\n                            else if(a.type===\"dir\")\r\n                                return this.props.sort.dir===\"DSC\";\r\n                            else if(b.type===\"dir\")\r\n                                return this.props.sort.dir===\"ASC\";\r\n                            else return this.props.sort.dir===\"ASC\"?a[this.props.sort.prop]>b[this.props.sort.prop]:a[this.props.sort.prop]<b[this.props.sort.prop]\r\n                        }).map((item) => (\r\n                            /*(item.name.charAt(0) !== \".\" || (item.name.charAt(0) === \".\" && this.props.displayHiddenFiles)) &&*/ <FileRow file={item} key={item.url} />\r\n                        ))}\r\n                    </tbody>\r\n                    <tfoot className=\"position-absolute mw-100 overflow-auto\" style={{ bottom: selectedFiles.length>0 ? 0 : -50, opacity: selectedFiles.length>0 ? 1:0, left: 0, right: 0, transition: 'all ease .5s' }}>\r\n                        <tr className=\"d-flex justify-content-sm-center pl-0 pr-0 pt-2 pb-2\">\r\n                            <td>\r\n                                <button className=\"btn btn-secondary ml-2\" onClick={() => this.handleEditNameClick()}>Rename</button>\r\n                                <button className=\"btn btn-secondary ml-2\" onClick={() => this.handleDownloadfilesClick()}>Download</button>\r\n                                <button className=\"btn btn-secondary ml-2\" onClick={() => this.handleCompressfilesClick()}>Compress</button>\r\n                                <button className=\"btn btn-danger ml-2 mr-2\" onClick={() => this.handleDeletefilesClick()}>Delete</button>\r\n                            </td>\r\n                        </tr>\r\n                    </tfoot>\r\n                    <caption className=\"mb-5\">{`${selectedFiles.length} of ${this.props.fileList.length} selected ${this.props.fileList.length > 1 ? 'files' : 'file'} in `}<code>{this.props.path}</code></caption>\r\n                </table>\r\n            </Dropzone>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handleSelectAllClicked = (curVal) => {\r\n        this.props.dispatch(selectAllFiles(!curVal));\r\n        this.setState({allSelected: !curVal});\r\n    }\r\n\r\n    handleEditNameClick = () => {\r\n        this.props.fileList.filter(file => file.selected).forEach(file => this.props.dispatch(enableFileEditName(file)));\r\n    }\r\n\r\n    handleDownloadfilesClick = () => {\r\n        let files = this.props.fileList.filter(file => file.selected);\r\n        files.forEach(file => {\r\n            this.props.dispatch(downloadFile(file));\r\n        });\r\n    }\r\n\r\n    handleCompressfilesClick = () => {\r\n        this.props.dispatch(compressFiles(this.props.fileList.filter((e) => e.selected).map((e) => e.url), this.props.path));\r\n    }\r\n\r\n    handleDeletefilesClick = () => {\r\n        this.props.dispatch(deleteFiles(this.props.fileList.filter((e) => e.selected).map((e) => e.url), this.props.path));\r\n    }\r\n\r\n    onDrop(files) {\r\n        this.props.dispatch(uploadFiles(files, this.props.path));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        fileList: state.navigation.fileList,\r\n        isFileListLoaded: state.navigation.isFileListLoaded,\r\n        displayHiddenFiles: state.navigation.displayHiddenFiles,\r\n        displayNewDir: state.navigation.displayNewDir,\r\n        displayNewFile: state.navigation.displayNewFile,\r\n        path: state.navigation.path,\r\n        filter: state.navigation.filter,\r\n        sort: state.navigation.sort\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(FilesTable);","import React, { Component } from 'react';\r\n\r\nclass Image extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            url: URL.createObjectURL(this.props.file.blob)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <a href={this.state.url}><img className=\"mh-100 mw-100 h-auto w-auto\" src={this.state.url} alt={'preview ' + this.props.file.name + ' image file'} /></a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Image;","const Hljs = require('highlight.js/lib/highlight')\r\n\r\nHljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\r\nHljs.registerLanguage('json', require('highlight.js/lib/languages/json'))\r\nHljs.registerLanguage('less', require('highlight.js/lib/languages/less'))\r\nHljs.registerLanguage('scss', require('highlight.js/lib/languages/scss'))\r\nHljs.registerLanguage(\r\n  'javascript',\r\n  require('highlight.js/lib/languages/javascript')\r\n)\r\nHljs.registerLanguage(\r\n  'typescript',\r\n  require('highlight.js/lib/languages/typescript')\r\n)\r\n\r\nexport default Hljs\r\n","import marked from 'marked'\r\nimport Hljs from './highlight'\r\n\r\nmarked.setOptions({\r\n  renderer: new marked.Renderer(),\r\n  gfm: true,\r\n  tables: true,\r\n  breaks: false,\r\n  pedantic: false,\r\n  sanitize: false,\r\n  smartLists: true,\r\n  smartypants: false,\r\n  highlight(code) {\r\n    return Hljs.highlightAuto(code).value\r\n  }\r\n})\r\n\r\nconst renderer = new marked.Renderer()\r\n\r\n// 段落解析\r\nconst paragraphParse = text => `<p>${text}</p>`\r\n\r\n// 链接解析\r\nconst linkParse = (href, title, text) => {\r\n  return `<a href=${href}\r\n      title=${title || href}\r\n      target='_blank'\r\n      }>${text}</a>`\r\n}\r\n\r\nrenderer.paragraph = paragraphParse\r\nrenderer.link = linkParse\r\n\r\nexport default content => {\r\n  if (typeof content !== 'string') return ''\r\n\r\n  return marked(content, { renderer })\r\n}\r\n","function insert($vm, prefix, hint = '', subfix = '') {\r\n  const value = $vm.value\r\n  if ($vm.selectionStart || $vm.selectionStart === 0) {\r\n    let start = $vm.selectionStart\r\n    let end = $vm.selectionEnd\r\n\r\n    const restoreTop = $vm.scrollTop\r\n\r\n    if (start === end) {\r\n      $vm.value =\r\n        value.substring(0, start) +\r\n        prefix +\r\n        hint +\r\n        subfix +\r\n        value.substring(end, value.length)\r\n      $vm.selectionStart = start + prefix.length\r\n      $vm.selectionEnd = end + prefix.length + hint.length\r\n    } else {\r\n      $vm.value =\r\n        value.substring(0, start) +\r\n        prefix +\r\n        value.substring(start, end) +\r\n        subfix +\r\n        value.substring(end, value.length)\r\n      $vm.selectionStart = start + prefix.length\r\n      $vm.selectionEnd = end + prefix.length\r\n    }\r\n\r\n    $vm.focus()\r\n    if (restoreTop >= 0) {\r\n      $vm.scrollTop = restoreTop\r\n    }\r\n  }\r\n}\r\n\r\nconst toolbar = {\r\n  h1($vm) {\r\n    insert($vm, '# ', 'title')\r\n  },\r\n  h2($vm) {\r\n    insert($vm, '## ', 'title')\r\n  },\r\n  h3($vm) {\r\n    insert($vm, '### ', 'title')\r\n  },\r\n  h4($vm) {\r\n    insert($vm, '#### ', 'title')\r\n  },\r\n  image($vm) {\r\n    insert($vm, '![alt](', 'url', ')')\r\n  },\r\n  link($vm) {\r\n    insert($vm, '[title](', 'url', ')')\r\n  },\r\n  code($vm) {\r\n    insert($vm, '```', 'language', '\\n\\n```')\r\n  },\r\n  tab($vm) {\r\n    insert($vm, '  ')\r\n  }\r\n}\r\n\r\nexport default ($vm, type) => {\r\n  return toolbar[type]($vm)\r\n}\r\n","export default {\r\n    zh: {\r\n        placeholder: '请输入内容...',\r\n        undo: '上一步 (ctrl+z)',\r\n        redo: '下一步 (ctrl+y)',\r\n        h1: '一级标题',\r\n        h2: '二级标题',\r\n        h3: '三级标题',\r\n        h4: '四级标题',\r\n        image: '图片',\r\n        link: '超链接',\r\n        code: '代码块',\r\n        save: '保存 (ctrl+s)',\r\n    },\r\n    en: {\r\n        placeholder: 'Please enter the content...',\r\n        undo: 'Undo (ctrl+z)',\r\n        redo: 'Redo (ctrl+y)',\r\n        h1: 'Level one title',\r\n        h2: 'Level two title',\r\n        h3: 'Level three title',\r\n        h4: 'Level four title',\r\n        image: 'Image',\r\n        link: 'Hyperlink',\r\n        code: 'Code block',\r\n        save: 'Save (ctrl+s)',\r\n    }\r\n}","const KEY_CODE = {\r\n  F8: 119,\r\n  F9: 120,\r\n  F10: 121,\r\n  F11: 122,\r\n  F12: 123,\r\n  B: 66,\r\n  I: 73,\r\n  H: 72,\r\n  U: 85,\r\n  D: 68,\r\n  M: 77,\r\n  Q: 81,\r\n  O: 79,\r\n  L: 76,\r\n  S: 83,\r\n  Z: 90,\r\n  Y: 89,\r\n  C: 67,\r\n  T: 84,\r\n  R: 82,\r\n  DELETE: 8,\r\n  TAB: 9,\r\n  ENTER: 13,\r\n  ONE: 97,\r\n  TWO: 98,\r\n  THREE: 99,\r\n  FOUR: 100,\r\n  FIVE: 101,\r\n  SIX: 102,\r\n  _ONE: 49,\r\n  _TWO: 50,\r\n  _THREE: 51,\r\n  _FOUR: 52,\r\n  _FIVE: 53,\r\n  _SIX: 54\r\n}\r\n\r\nexport default ins => {\r\n  const $vm = ins.$vm\r\n  $vm.addEventListener('keydown', e => {\r\n    if (!(e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\r\n      switch (e.keyCode) {\r\n        case KEY_CODE.TAB: {\r\n          e.preventDefault()\r\n          ins.insert('tab')\r\n          break\r\n        }\r\n        default: break;\r\n      }\r\n    } else if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\r\n      // ctrl +\r\n      switch (e.keyCode) {\r\n        case KEY_CODE.Z: {\r\n          // Z\r\n          e.preventDefault()\r\n          ins.undo()\r\n          break\r\n        }\r\n        case KEY_CODE.Y: {\r\n          // Y\r\n          e.preventDefault()\r\n          ins.redo()\r\n          break\r\n        }\r\n        case KEY_CODE.S: {\r\n          // S\r\n          e.preventDefault()\r\n          ins.save()\r\n          break\r\n        }\r\n        default: break;\r\n      }\r\n    }\r\n  })\r\n}\r\n","import React from 'react'\r\nimport './index.css'\r\nimport classNames from 'classnames'\r\nimport marked from '../helpers/marked'\r\nimport textInsert from '../helpers/insertText'\r\nimport lang from '../helpers/lang'\r\nimport keydownListen from '../helpers/keydownListen'\r\nimport 'highlight.js/styles/tomorrow.css'\r\nimport '../fonts/iconfont.css'\r\n\r\nclass MdEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.$vm = null\r\n    this.handleEditorRef = $vm => {\r\n      this.$vm = $vm\r\n    }\r\n\r\n    this.state = {\r\n      preview: false,\r\n      expand: false,\r\n      f_history: [],\r\n      f_history_index: 0,\r\n      line_index: 1\r\n    }\r\n  }\r\n\r\n  static defaultProps = {\r\n    lineNum: true,\r\n    height: '600px',\r\n    controlbar: true,\r\n    allowfullscreen: true,\r\n    allowpreview: true,\r\n    allowsave: true,\r\n    lang: 'zh'\r\n  }\r\n\r\n  componentDidMount() {\r\n    keydownListen(this)\r\n    this.handleLineIndex(this.props.value)\r\n  }\r\n\r\n  componentWillUpdate(props, state) {\r\n    const { f_history } = this.state\r\n    if (props.value && state.f_history.length === 0) {\r\n      f_history.push(props.value)\r\n      this.setState({\r\n        f_history\r\n      })\r\n      this.handleLineIndex(props.value)\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.value !== this.props.value) {\r\n      this.handleLineIndex(nextProps.value)\r\n    }\r\n  }\r\n\r\n  // 输入框改变\r\n  handleChange = e => {\r\n    const value = e.target.value\r\n    this.saveHistory(value)\r\n    this.props.onChange(value)\r\n  }\r\n\r\n  // 快捷插入\r\n  insert = e => {\r\n    const { $vm } = this\r\n    const type = e.currentTarget ? e.currentTarget.getAttribute('data-type') : e\r\n    textInsert($vm, type)\r\n    this.props.onChange($vm.value)\r\n    this.saveHistory($vm.value)\r\n  }\r\n\r\n  // 保存记录\r\n  saveHistory(value) {\r\n    let { f_history, f_history_index } = this.state\r\n    window.clearTimeout(this.currentTimeout)\r\n    this.currentTimeout = setTimeout(() => {\r\n      // 撤销后修改，删除当前以后记录\r\n      if (f_history_index < f_history.length - 1) {\r\n        f_history.splice(f_history_index + 1)\r\n      }\r\n      // 超出记录最多保存数后，滚动储存\r\n      if (f_history.length >= 20) {\r\n        f_history.shift()\r\n      }\r\n      // 记录当前位置\r\n      f_history_index = f_history.length\r\n      f_history.push(value)\r\n      this.setState({\r\n        f_history,\r\n        f_history_index\r\n      })\r\n    }, 500)\r\n    // 行号\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  handleLineIndex(value) {\r\n    const line_index = value ? value.split('\\n').length : 1\r\n    this.setState({\r\n      line_index\r\n    })\r\n  }\r\n\r\n  undo = () => {\r\n    const { f_history } = this.state\r\n    let { f_history_index } = this.state\r\n    f_history_index = f_history_index - 1\r\n    if (f_history_index < 0) return\r\n    this.setState({\r\n      f_history_index\r\n    })\r\n    const value = f_history[f_history_index]\r\n    // 将值传递给父组件\r\n    this.props.onChange(value)\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  redo = () => {\r\n    const { f_history } = this.state\r\n    let { f_history_index } = this.state\r\n    f_history_index = f_history_index + 1\r\n    if (f_history_index >= f_history.length) return\r\n    this.setState({\r\n      f_history_index\r\n    })\r\n    const value = f_history[f_history_index]\r\n    // 将值传递给父组件\r\n    this.props.onChange(value)\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  // 预览\r\n  preview = () => {\r\n    this.setState({\r\n      preview: !this.state.preview\r\n    })\r\n  }\r\n\r\n  // 全屏\r\n  expand = () => {\r\n    this.setState({\r\n      expand: !this.state.expand\r\n    })\r\n  }\r\n\r\n  // 保存\r\n  save = () => {\r\n    if (this.props.allowsave) this.props.onSave()\r\n  }\r\n\r\n  render() {\r\n    const { preview, expand, line_index } = this.state\r\n    const { value } = this.props\r\n    const previewClass = classNames({\r\n      'for-panel': true,\r\n      'for-preview-hidden': !preview\r\n    })\r\n    const editorClass = classNames({\r\n      'for-panel': true\r\n    })\r\n    const previewActive = classNames({\r\n      'for-active': preview\r\n    })\r\n    const fullscreen = classNames({\r\n      'for-container': true,\r\n      'for-fullscreen': expand\r\n    })\r\n    const expandActive = classNames({\r\n      'for-active': expand\r\n    })\r\n    const lineNumStyles = classNames({\r\n      'for-line-num': true,\r\n      hidden: !this.props.lineNum\r\n    })\r\n\r\n    const lineNum = function () {\r\n      const list = []\r\n      for (let i = 0; i < line_index; i++) {\r\n        list.push(<li key={i + 1}>{i + 1}</li>)\r\n      }\r\n      return <ul className={lineNumStyles}>{list}</ul>\r\n    }\r\n\r\n    return (\r\n      <div className={fullscreen} style={{ height: this.props.height }}>\r\n        <div className=\"for-controlbar\">\r\n          <ul className=\"for-controlbar_md\">\r\n            <li onClick={this.undo} title={lang[this.props.lang].undo}>\r\n              <i className=\"foricon for-undo\" />\r\n            </li>\r\n            <li onClick={this.redo} title={lang[this.props.lang].redo}>\r\n              <i className=\"foricon for-redo\" />\r\n            </li>\r\n            {this.props.controlbar && (<>\r\n              <li data-type=\"h1\" onClick={this.insert} title={lang[this.props.lang].h1}>\r\n                H1\r\n            </li>\r\n              <li data-type=\"h2\" onClick={this.insert} title={lang[this.props.lang].h2}>\r\n                H2\r\n            </li>\r\n              <li data-type=\"h3\" onClick={this.insert} title={lang[this.props.lang].h3}>\r\n                H3\r\n            </li>\r\n              <li data-type=\"h4\" onClick={this.insert} title={lang[this.props.lang].h4}>\r\n                H4\r\n            </li>\r\n              <li data-type=\"image\" onClick={this.insert} title={lang[this.props.lang].image}>\r\n                <i className=\"foricon for-image\" />\r\n              </li>\r\n              <li data-type=\"link\" onClick={this.insert} title={lang[this.props.lang].link}>\r\n                <i className=\"foricon for-link\" />\r\n              </li>\r\n              <li data-type=\"code\" onClick={this.insert} title={lang[this.props.lang].code}>\r\n                <i className=\"foricon for-code\" />\r\n              </li>\r\n            </>)}\r\n          </ul>\r\n          <ul className=\"for-controlbar_tools\">\r\n            {this.props.allowsave && <li data-type=\"code\" onClick={this.save} title={lang[this.props.lang].save}>\r\n              <i className=\"foricon for-save\" />\r\n            </li>}\r\n            {this.props.allowfullscreen && <li className={expandActive} onClick={this.expand}>\r\n              {expandActive ? (\r\n                <i className=\"foricon for-contract\" />\r\n              ) : (\r\n                  <i className=\"foricon for-expand\" />\r\n                )}\r\n            </li>}\r\n            {this.props.allowpreview && <li className={previewActive} onClick={this.preview}>\r\n              {previewActive ? (\r\n                <i className=\"foricon for-eye-off\" />\r\n              ) : (\r\n                  <i className=\"foricon for-eye\" />\r\n                )}\r\n            </li>}\r\n          </ul>\r\n        </div>\r\n        <div className=\"for-editor\">\r\n          <div className={editorClass}>\r\n            <div className=\"for-editor-wrapper\">\r\n              {/* <div className=\"for-editor-wrapper-in\"> */}\r\n              <div className=\"for-editor-block\">\r\n                {lineNum()}\r\n                <div className=\"for-editor-content\">\r\n                  <pre>{value} </pre>\r\n                  <textarea\r\n                    wrap=\"soft\"\r\n                    ref={this.handleEditorRef}\r\n                    value={value}\r\n                    onChange={this.handleChange}\r\n                    placeholder={lang[this.props.lang].placeholder}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* </div> */}\r\n            </div>\r\n          </div>\r\n          <div className={previewClass}>\r\n            <div\r\n              className=\"for-preview for-markdown-preview\"\r\n              dangerouslySetInnerHTML={{ __html: marked(value) }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MdEditor\r\n","import Editor from './editor'\r\n\r\nexport default Editor\r\n","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { saveFile } from '../../../Redux/actions/preview';\r\n\r\nimport TextEditor from '../../TextEditor'\r\n\r\nclass Text extends Component {\r\n\r\n    handleSaveClick = () => {\r\n        this.props.dispatch(saveFile(this.props.file.url, this.props.file.content));\r\n    }\r\n\r\n    handleValueChange = (value) => {\r\n        this.props.file.content = value;\r\n        this.setState({});\r\n    }\r\n\r\n    componentWillMount() {\r\n        let _this = this;\r\n        var reader = new FileReader();\r\n        reader.onload = function () {\r\n            _this.handleValueChange(reader.result);\r\n        }\r\n        reader.readAsText(this.props.file.blob);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <TextEditor lang=\"en\" controlbar={this.props.file.url.match(/\\.md$/)} allowfullscreen={true} allowpreview={this.props.file.url.match(/\\.(md|html|htm)$/)} allowsave={true} value={this.props.file.content} onChange={this.handleValueChange.bind(this)} onSave={this.handleSaveClick.bind(this)} />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(Text);","import React, { Component } from 'react';\r\n\r\nclass PDF extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            url: URL.createObjectURL(this.props.file.blob)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <embed className=\"h-100 w-100\" src={this.state.url} alt=\"pdf\" pluginspage=\"http://www.adobe.com/products/acrobat/readstep2.html\"></embed>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PDF;","import React, { Component } from 'react';\r\n\r\nimport logo from './network-error.svg';\r\n\r\nclass Error extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <img src={logo} alt=\"Error\" />\r\n        );\r\n    }\r\n}\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport ReadableOctets from '../../../Components/ReadableOctets';\r\nimport Icon from '../../../Components/Icon';\r\n\r\nclass Zip extends Component {\r\n\r\n    state = { zip: [] }\r\n\r\n    process(entries) {\r\n        let array = [];\r\n        let contents = [];\r\n        for (const entry of entries) {\r\n            if (!entry.directory) {\r\n                // eslint-disable-next-line\r\n                let splitname = entry.filename.split(/\\/(?=[^\\/]+$)/);\r\n                // create file obj\r\n                let file = { name: splitname[splitname.length - 1], type: \"file\", size: entry.uncompressedSize, mtime: entry.lastModDateRaw * 100000, entry };\r\n                // create dir if needed\r\n                if (splitname.length > 1 && typeof contents[splitname[0]] === \"undefined\")\r\n                    createDir(splitname[0]);\r\n                // add file obj to parent dir\r\n                splitname.length > 1 ? contents[splitname[0]].push(file) : array.push(file);\r\n            }\r\n        }\r\n        this.setState({ zip: array });\r\n\r\n\r\n        function createDir(dirname) {\r\n            // eslint-disable-next-line\r\n            let splitname = dirname.split(/\\/(?=[^\\/]+$)/);\r\n\r\n            // create dir obj\r\n            let dir = { name: splitname[splitname.length - 1], type: \"dir\", content: [] };\r\n            // save content attribute reference\r\n            contents[dirname] = dir.content;\r\n            // create dir if needed\r\n            if (splitname.length > 1 && typeof contents[splitname[0]] === \"undefined\")\r\n                createDir(splitname[0]);\r\n            // add dir obj to parent dir\r\n            splitname.length > 1 ? contents[splitname[0]].push(dir) : array.push(dir);\r\n        }\r\n    }\r\n\r\n    tmp() {\r\n        let _this = this;\r\n        // use a BlobReader to read the zip from a Blob object\r\n        window.zip.createReader(new window.zip.BlobReader(this.props.file.blob), function (reader) {\r\n\r\n            // get all entries from the zip\r\n            reader.getEntries(function (entries) {\r\n                if (entries.length) {\r\n                    _this.process(entries);\r\n                }\r\n            });\r\n\r\n            // Close reader after 30 seconds\r\n            window.setTimeout(function () { reader.close(); }, 30000);\r\n        }, function (error) {\r\n            // onerror callback\r\n        });\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.tmp();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                {this.state.zip.map((e) => (\r\n                    (e.type === \"dir\" && <ZipDir dir={e} />) || <ZipFile file={e} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ZipDir extends Component {\r\n\r\n    state = {\r\n        expanded: false\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState((prevState) => ({ expanded: !prevState.expanded }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div aria-expanded={this.state.expanded}>\r\n                <button className=\"btn btn-light w-100 text-left\" onClick={this.handleClick}>\r\n                    <span className=\"mr-2\"><Icon icon=\"folder\"/></span>\r\n                    <span className=\"mr-2\">{this.props.dir.name}</span>\r\n                </button>\r\n                <div className=\"ml-3 pl-3 border-left\">\r\n                    {this.props.dir.content.map((e) => (\r\n                        (e.type === \"dir\" && <ZipDir dir={e} />) || <ZipFile file={e} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ZipFile extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"d-flex align-items-center p-1\">\r\n                <Icon className=\"mr-2\" icon=\"text_file\"/>\r\n                <span className=\"flex-grow-1 mr-2\">{this.props.file.name}</span>\r\n                <ReadableOctets className=\"mr-2\">{this.props.file.size}</ReadableOctets>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(Zip);","import React, { Component } from 'react';\r\n\r\nclass LoadingSpinner extends Component {\r\n    render() {\r\n        return (\r\n            <div class=\"spinner-border text-primary d-block mx-auto my-3\" role=\"status\">\r\n                <span class=\"sr-only\">Loading...</span>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoadingSpinner;","import React, { Component } from 'react';\r\nimport Image from './Image/Image';\r\nimport Text from './Text/Text';\r\nimport PDF from './PDF/PDF';\r\nimport Error from './Error/Error';\r\nimport Zip from './Zip/Zip';\r\nimport LoadingSpinner from '../../Components/LoadingSpinner';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { selectPreview, closePreviewFile } from '../../Redux/actions/preview';\r\n\r\nclass Preview extends Component {\r\n\r\n    handleTabClick = (file, index) => {\r\n        this.props.dispatch(selectPreview(index));\r\n    }\r\n\r\n    handleCloseTabClick = (e, url) => {\r\n        e.stopPropagation();\r\n        e.nativeEvent.stopImmediatePropagation();\r\n        this.props.dispatch(closePreviewFile(url));\r\n    }\r\n\r\n    addButton = (file, label, callback) => {\r\n        if (typeof file.actions === \"undefined\") {\r\n            file.actions = [{ label: label, click: callback }];\r\n        } else {\r\n            if (typeof file.actions === \"undefined\") {\r\n                file.actions = [{ label: label, click: callback }];\r\n            } else {\r\n                file.actions = [...file.actions, { label: label, click: callback }];\r\n            }\r\n        }\r\n        this.setState({});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <header className=\"sticky-top bg-white\" style={{ zIndex: 100 }}>\r\n                    <ol className=\"nav nav-tabs\" role=\"tablist\">\r\n                        {this.props.previewFiles.map((item, index) => (\r\n                            <li key={item.url} className=\"nav-item\" role=\"tab\" aria-selected={index === this.props.activePreview}>\r\n                                <button role=\"tab\" className={`nav-link${index === this.props.activePreview ? \" active\" : \"\"} bg-transparent`} id={\"preview-\" + index} onClick={() => this.handleTabClick(item, index)} title={item.url}>\r\n                                    {item.name}\r\n                                    <button className=\"ml-2 mb-1 close\" aria-label=\"Close\" onClick={(e) => this.handleCloseTabClick(e, item.url)}>\r\n                                        <span aria-hidden=\"true\">&times;</span>\r\n                                    </button>\r\n                                </button>\r\n                            </li>\r\n                        ))}\r\n                    </ol>\r\n                </header>\r\n\r\n                <main className=\"flex-grow-1\" style={{borderLeft: \"1px solid #dee2e6\",borderRight: \"1px solid #dee2e6\"}}>\r\n                    {this.props.previewFiles.map((item, index) => (\r\n                        <div key={item.url} role=\"tabpanel\" className=\"h-100 p-2\" aria-labelledby={\"preview-\" + index} hidden={index !== this.props.activePreview}>\r\n                            {\r\n                                (typeof item.blob != 'undefined' && (\r\n                                    (item.blob.type.match(/^image\\/.*/) && <Image file={item} />)\r\n                                    || (item.blob.type.match(/^(text\\/.*|inode\\/x-empty)/) && <Text file={item} />)\r\n                                    || (item.blob.type === \"application/pdf\" && <PDF file={item} />)\r\n                                    || (item.blob.type === \"application/zip\" && <Zip file={item} />)\r\n                                )) || ((item.isContentLoaded && <Error />) || <LoadingSpinner />)\r\n                            }\r\n                        </div>\r\n                    ))}\r\n                </main>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        previewFiles: state.preview.fileList,\r\n        activePreview: state.preview.activePreview\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Preview);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { removeNotification } from '../../Redux/actions/notifications';\r\n\r\nclass Notifications extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div style={{position: \"absolute\", bottom: 0, right: 0}}>\r\n                {this.props.notifications.map((n) => (\r\n                    <div class=\"toast\" role=\"alert\" aria-live=\"assertive\" aria-atomic=\"true\" key={n.id}>\r\n                        <div class=\"toast-header\">\r\n                            <strong class=\"mr-auto\">{n.shortText}</strong>\r\n                            {/* <small class=\"text-muted\">just now</small> */}\r\n                            <button type=\"button\" class=\"ml-2 mb-1 close\" data-dismiss=\"toast\" aria-label=\"Close\" onClick={(n) => this.handleCloseClicked(n)}>\r\n                                <span aria-hidden=\"true\">&times;</span>\r\n                            </button>\r\n                        </div>\r\n                        <div class=\"toast-body\">\r\n                            {n.longText}\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    handleCloseClicked = (notification) => {\r\n        this.props.dispatch(removeNotification(notification));\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        notifications: state.notifications.notifications\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Notifications);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport Dropdown from './Components/Dropdown';\r\nimport Breadcrumb from './Components/Breadcrumb';\r\nimport FilesTable from './Components/FilesTable';\r\n\r\nimport Preview from './Components/Preview';\r\n\r\nimport { fetchFileList, sortFilesBy, filterFiles } from './Redux/actions/navigation';\r\nimport Notifications from './Components/Notifications';\r\n\r\nclass App extends Component {\r\n    componentWillMount() {\r\n        // init breadcrumb & file list\r\n        this.props.dispatch(fetchFileList(this.props.location.pathname));\r\n    \r\n        this.unlisten = this.props.history.listen((location, action) => {\r\n          switch (action) {\r\n            case 'PUSH': // location pathname change\r\n              this.props.dispatch(fetchFileList(location.pathname));\r\n              break;\r\n            case 'POP': // location hash change\r\n              this.props.dispatch(fetchFileList(location.pathname));\r\n              break;\r\n            default: break;\r\n          }\r\n        });\r\n      }\r\n      componentWillUnmount() {\r\n        this.unlisten();\r\n      }\r\n\r\n  render() {\r\n    this.dropzone={}\r\n    return (\r\n      <section className=\"container-fluid h-100\">\r\n        <div className=\"row h-100\">\r\n          {/* SIDEBAR */}\r\n          {/* <div className=\"col-12 col-lg-3 col-xl-2 bg-secondary p-3\" style={{boxShadow:'2px 0px 2px 0px rgba(0, 0, 0, 0.34) !important'}}></div> */}\r\n\r\n          {/* MAIN CONTENT */}\r\n          <main className=\"col-12 -col-lg-9 -col-xl-10 overflow-hidden h-100 position-static d-flex flex-column\">\r\n            {/* NAVBAR */}\r\n            <nav className=\"navbar navbar-expand navbar-light pl-0 pr-0\">\r\n              <div className=\"collapse navbar-collapse row\">\r\n                <div className=\"overflow-visible d-flex align-items-center pl-3 pr-3\" style={{maxWidth:\"100vw\"}}>\r\n                  <Breadcrumb data={this.props.breadcrumb} dropzone={this.dropzone}/>\r\n                </div>\r\n                <div className=\"navbar-collapse -col-12 -col-lg-4\">\r\n                  <ul className=\"navbar-nav ml-auto\">\r\n                    <Dropdown className=\"nav-item\" tag=\"li\" btn={{text:\"Sort\", tag: \"button\", attrs:{className:\"nav-link btn btn-link\"}}}>\r\n                        <button className=\"dropdown-item\" onClick={() => this.handleSortByName()}>By name</button>\r\n                        <button className=\"dropdown-item\" onClick={() => this.handleSortBySize()}>By size</button>\r\n                        <button className=\"dropdown-item\" onClick={() => this.handleSortByDate()}>By date</button>\r\n                    </Dropdown>\r\n                  </ul>\r\n                  <form className=\"form-inline my-2 my-md-0 pl-3 pr-3\">\r\n                    <input className=\"form-control\" type=\"filter\" placeholder=\"Filter\" aria-label=\"Filter\" onChange={(e) => this.handleFilterChanged(e)}/>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            </nav>\r\n\r\n            {/* FILES TABLE */}\r\n            <div className=\"row flex-grow-1 flex-shrink-1 overflow-hidden\">\r\n                <FilesTable className={`${this.props.preview.length?\"col-xl-4 d-none d-xl-block\":\"col-xl-12\"}`} dropzone={this.dropzone}/>\r\n                <div className={this.props.preview.length?\"col-12 col-xl-8 h-100 overflow-auto d-flex flex-column\":\"w-0 overflow-hidden\"}>\r\n                    <Preview />\r\n                </div>\r\n            </div>\r\n\r\n            {/* NOTIFICATIONS */}\r\n            <Notifications />\r\n          </main>\r\n        </div>\r\n      </section>\r\n    );\r\n    }\r\n\r\n    handleSortByName = () => {\r\n        this.props.dispatch(sortFilesBy('name'));\r\n    }\r\n\r\n    handleSortBySize = () => {\r\n        this.props.dispatch(sortFilesBy('size'));\r\n    }\r\n\r\n    handleSortByDate = () => {\r\n        this.props.dispatch(sortFilesBy('mtime'));\r\n    }\r\n\r\n    handleFilterChanged = (e) => {\r\n        this.props.dispatch(filterFiles(e.target.value));\r\n\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    preview: state.preview.fileList,\r\n    breadcrumb: state.navigation.breadcrumb\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const initialNavigationState = {\r\n  fileList: [],\r\n  isFileListLoaded: true,\r\n  previewFileList: [],\r\n  breadcrumb: [],\r\n  displayHiddenFiles: false,\r\n  displayNewDir: false,\r\n  displayNewFile: false,\r\n  path: '/',\r\n  filter: '',\r\n  sort: { prop: 'name', dir: 'ASC' }\r\n};\r\n\r\nexport const navigation = (state = initialNavigationState, action) => {\r\n  switch (action.type) {\r\n    case 'RECEIVE_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        fileList: action.fileList,\r\n        isFileListLoaded: true\r\n      };\r\n    case 'REFRESH_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        fileList: action.fileList.map(function (e, i, a) {\r\n          return {\r\n            ...state.fileList.filter((function (elem, index, self) {\r\n              return index === self.map((element) => element.url).indexOf(e.url);\r\n            }))[0], ...e\r\n          }\r\n        })\r\n      }\r\n    case 'ADD_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: [...state.fileList, action.file]\r\n      };\r\n    case 'REMOVE_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.filter(file => file.url !== action.file.url)\r\n      };\r\n    case 'TOGGLE_SELECT_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, selected: !file.selected } : file)\r\n      };\r\n    case 'SELECT_ALL_FILES':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => ({ ...file, selected: action.selectStatus }))\r\n      }\r\n    case 'REQUEST_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        breadcrumb: action.breadcrumb,\r\n        path: action.path,\r\n        isFileListLoaded: false\r\n      };\r\n    case 'ENABLE_FILE_EDIT_NAME':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, editName: true } : file)\r\n      }\r\n    case 'DISABLE_FILE_EDIT_NAME':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, editName: false } : file)\r\n      }\r\n    case 'TOGGLE_NEW_DIR':\r\n      return {\r\n        ...state,\r\n        displayNewDir: !state.displayNewDir\r\n      }\r\n    case 'TOGGLE_NEW_FILE':\r\n      return {\r\n        ...state,\r\n        displayNewFile: !state.displayNewFile\r\n      }\r\n    case 'HIDE_NEW_DIR':\r\n      return {\r\n        ...state,\r\n        displayNewDir: false\r\n      }\r\n    case 'HIDE_NEW_FILE':\r\n      return {\r\n        ...state,\r\n        displayNewFile: false\r\n      }\r\n    case 'TOGGLE_HIDDEN_FILES':\r\n      return {\r\n        ...state,\r\n        displayHiddenFiles: !state.displayHiddenFiles\r\n      }\r\n    case 'UPDATE_FILTER':\r\n      return {\r\n        ...state,\r\n        filter: action.filter\r\n      }\r\n    case 'SORT_BY':\r\n      return {\r\n        ...state,\r\n        sort: {prop: action.prop, dir: action.prop===state.sort.prop?state.sort.dir===\"ASC\"?\"DSC\":\"ASC\":\"ASC\"}\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialPreviewState = {\r\n  fileList: [],\r\n  activePreview: 0\r\n}\r\n\r\nexport const preview = (state = initialPreviewState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_PREVIEW_FILE':\r\n      return state.fileList.map(file => file.url).indexOf(action.file.url) === -1 ? {\r\n        ...state,\r\n        fileList: [...state.fileList, { url: action.file.url, name: action.file.name }],\r\n        activePreview: state.fileList.length\r\n      } : {\r\n          ...state,\r\n          activePreview: state.fileList.map(file => file.url).indexOf(action.file.url)\r\n        }\r\n    case 'REMOVE_PREVIEW_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.filter(file => file.url !== action.url),\r\n        activePreview: state.fileList.map(file => file.url).indexOf(action.url) <= state.activePreview ? state.activePreview === 0 ? state.activePreview : state.activePreview - 1 : state.activePreview\r\n      }\r\n    case 'REQUEST_PREVIEW_CONTENT':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, isContentLoaded: false } : file)\r\n      }\r\n    case 'RECEIVE_PREVIEW_CONTENT':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, blob: action.blob, isContentLoaded: true } : file)\r\n      }\r\n    case 'UPDATE_PREVIEW_TAB':\r\n      return {\r\n        ...state,\r\n        activePreview: action.index\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialNotificationsState = {\r\n    notifications: []\r\n};\r\n\r\nexport const notifications = (state = initialNotificationsState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTIFICATION':\r\n            return {\r\n                ...state,\r\n                notifications: [...state.notifications, action.notification]\r\n            };\r\n        case 'REMOVE_NOTIFICATION':\r\n            return {\r\n                ...state,\r\n                notifications: state.notifications.filter((e) => e.id !== action.notification.id)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import { combineReducers } from 'redux';\r\n\r\nimport { navigation } from './navigation'\r\nimport { preview } from './preview'\r\nimport { notifications } from './notifications'\r\n\r\nexport default combineReducers({\r\n    navigation,\r\n    preview,\r\n    notifications\r\n});","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducers'\r\n\r\nexport default createStore(rootReducer, {}, applyMiddleware(thunk));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './Redux/configureStore'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter basename={process.env.REACT_APP_BASE_URL}>\r\n                <Route path=\"/\" render={(props) =>\r\n                    <App {...props} />\r\n                } />\r\n        </BrowserRouter>\r\n    </Provider>, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}
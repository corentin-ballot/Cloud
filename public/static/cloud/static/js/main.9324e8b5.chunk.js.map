{"version":3,"sources":["Components/Preview/Error/network-error.svg","Redux/actions/notifications.js","Components/Notifications/Notification/Notification.js","Components/Notifications/Notifications.js","Redux/actions/navigation.js","Components/Breadcrumb/index.js","Components/Preview/Image/Image.js","Redux/actions/preview.js","Components/TextEditor/helpers/highlight.js","Components/TextEditor/helpers/marked.js","Components/TextEditor/helpers/insertText.js","Components/TextEditor/helpers/lang.js","Components/TextEditor/helpers/keydownListen.js","Components/TextEditor/editor/index.jsx","Components/TextEditor/index.js","Components/Preview/Text/Text.js","Components/Preview/PDF/PDF.js","Components/Preview/Error/Error.js","Components/ReadableOctets/index.js","Components/ReadableDate/index.js","Components/Preview/Zip/Zip.js","Components/LoadingSpinner/LoadingSpinner.js","Components/Preview/index.js","Components/FileList/FileListItem/FileListItem.js","Components/FileList/FileListActionsButton/FileListActionsButton.js","Components/FileList/FileListNewFileItem/FileListNewFileItem.js","Components/FileList/FileListNewDirItem/FileListNewDirItem.js","Components/FileList/FileListSkeletonItems/FileListSkeletonItems.js","Components/FileList/FileList.js","App.js","registerServiceWorker.js","Redux/reducers/navigation.js","Redux/reducers/preview.js","Redux/reducers/notifications.js","Redux/reducers/index.js","Redux/configureStore.js","index.js"],"names":["module","exports","__webpack_require__","p","ADD_NOTIFICATION","REMOVE_NOTIFICATION","addNotification","shortText","longText","type","notification","id","Date","now","Notification","state","open","handleNotificationCloseClicked","_this","props","dispatch","removeNotification","handleTitleClicked","setState","prevState","_this2","this","react_default","a","createElement","className","aria-expanded","onClick","title","data","text","dangerouslySetInnerHTML","__html","Component","connect","Notifications","notifications","map","e","Notifications_Notification_Notification","key","RECEIVE_FILE_LIST","REQUEST_FILE_LIST","ENABLE_FILE_EDIT_NAME","DISABLE_FILE_EDIT_NAME","TOGGLE_SELECT_FILE","SELECT_ALL_FILES","TOGGLE_NEW_DIR","TOGGLE_NEW_FILE","HIDE_NEW_DIR","HIDE_NEW_FILE","REFRESH_FILE_LIST","TOGGLE_HIDDEN_FILES","pathToBreadcrumb","path","slice","substring","length","split","item","index","array","route","filter","x","y","join","folderName","receiveFileList","json","fileList","sort","b","firstname","fetchFileList","breadcrumb","requestFileList","fetch","concat","method","then","response","ok","statusText","refreshFileList","receiveRefreshFileList","hideNewDir","hideNewFile","Breadcrumb","i","Link","to","window","location","hash","navigation","Image","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","url","URL","createObjectURL","file","blob","href","src","alt","name","ADD_PREVIEW_FILE","REMOVE_PREVIEW_FILE","RECEIVE_PREVIEW_CONTENT","UPDATE_PREVIEW_TAB","previewFile","addPreviewFile","receivePreviewContent","Hljs","require","registerLanguage","marked","setOptions","renderer","Renderer","gfm","tables","breaks","pedantic","sanitize","smartLists","smartypants","highlight","code","highlightAuto","value","paragraph","link","insert","$vm","prefix","hint","arguments","undefined","subfix","selectionStart","start","end","selectionEnd","restoreTop","scrollTop","focus","toolbar","h1","h2","h3","h4","image","tab","insertText","lang","zh","placeholder","undo","redo","save","en","KEY_CODE","MdEditor","handleChange","target","saveHistory","onChange","assertThisInitialized","currentTarget","getAttribute","textInsert","f_history","f_history_index","handleLineIndex","preview","expand","allowsave","onSave","handleEditorRef","line_index","ins","addEventListener","ctrlKey","metaKey","altKey","shiftKey","keyCode","preventDefault","push","nextProps","_this$state","clearTimeout","currentTimeout","setTimeout","splice","shift","content","_this$state2","previewClass","classNames","for-panel","for-preview-hidden","editorClass","previewActive","for-active","fullscreen","for-container","for-fullscreen","expandActive","lineNumStyles","for-line-num","hidden","lineNum","style","height","controlbar","Fragment","data-type","allowfullscreen","allowpreview","list","wrap","ref","React","defaultProps","Editor","Text","handleSaveClick","body","JSON","stringify","msg","detail","handleValueChange","reader","FileReader","onload","result","readAsText","TextEditor","match","bind","PDF","pluginspage","Error","logo","ReadableOctets","size","Math","floor","log","isNaN","pow","toFixed","humanFileSize","children","ReadableDate","current","previous","elapsed","round","msPerMinute","msPerHour","msPerDay","assign","Intl","DateTimeFormat","year","month","day","hour","minute","format","timeDifference","Zip","zip","entries","console","contents","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","entry","directory","splitname","filename","uncompressedSize","mtime","lastModDateRaw","createDir","err","return","dirname","dir","createReader","BlobReader","getEntries","process","close","error","tmp","Zip_ZipDir","Zip_ZipFile","ZipDir","expanded","handleClick","ZipFile","Components_ReadableOctets","Components_ReadableDate","LoadingSpinner","Preview","handleTabClick","selectPreview","handleCloseTabClick","closePreviewFile","addButton","label","callback","actions","click","toConsumableArray","role","previewFiles","aria-selected","activePreview","aria-labelledby","Preview_Image_Image","Preview_Text_Text","Preview_PDF_PDF","Preview_Zip_Zip","isContentLoaded","Preview_Error_Error","Components_LoadingSpinner_LoadingSpinner","FileListItem","handleEditNameClick","handleCancelEditNameClick","handleSubmitEditNameClick","newurl","newUrl","replace","handleSelectClick","handleFileClick","handleDownloadClick","saveAs","selected","editName","defaultValue","el","FileListActionsButton","toggleMenu","FilestableNewFileItem","handleSubmitNewFileClick","handleCancelNewFileClick","FilestableNewDirItem","handleSubmitNewDirClick","handleCancelNewDirClick","FileListSkeletonItems","minlength","maxlength","random","possible","charAt","max","min","itemCount","dirNumber","generateDirNumber","Array","generateName","generateSize","generateDate","FileList","allSelected","handleSelectAllClick","selectStatus","handleCompressfilesClick","files","handleDeletefilesClick","urls","handleUploadFilesClick","dropzoneRef","handleNewDirClick","handleNewFileClick","handleToggleHiddenFilesClick","FormData","append","forEach","uploadFiles","FileList_FileListActionsButton_FileListActionsButton","dist_es","onDrop","disableClick","node","isFileListLoaded","FileList_FileListSkeletonItems_FileListSkeletonItems","displayNewFile","FileListNewFileItem","displayNewDir","FileListNewDirItem","displayHiddenFiles","FileList_FileListItem_FileListItem","App","pathname","unlisten","history","listen","action","search","Components_Breadcrumb","Components_FileList_FileList","Components_Preview","Components_Notifications_Notifications","isLocalhost","Boolean","hostname","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","initialNavigationState","previewFileList","initialPreviewState","initialNotificationsState","combineReducers","objectSpread","elem","self","element","indexOf","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","store","BrowserRouter","basename","Route","src_App_0","document","getElementById","origin","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.9324e8b5.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/network-error.9032283e.svg\";","export const ADD_NOTIFICATION = 'ADD_NOTIFICATION';\r\nexport const REMOVE_NOTIFICATION = 'REMOVE_NOTIFICATION';\r\n\r\nexport function addNotification(shortText, longText) {\r\n    return {\r\n        type: ADD_NOTIFICATION,\r\n        notification: { id: Date.now(), shortText: shortText, longText: longText }\r\n    }\r\n}\r\n\r\nexport function removeNotification(notification) {\r\n    return {\r\n        type: REMOVE_NOTIFICATION,\r\n        notification\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport { removeNotification } from '../../../Redux/actions/notifications';\r\n\r\nimport './Notification.css';\r\n\r\nclass Notification extends Component {\r\n\r\n    state = {\r\n        open: false\r\n    }\r\n\r\n    handleNotificationCloseClicked = (notification) => {\r\n        this.props.dispatch(removeNotification(notification));\r\n    }\r\n\r\n    handleTitleClicked = () => {\r\n        this.setState((prevState) => {\r\n            return {\r\n                open: !prevState.open\r\n            }\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_notifications_item\" aria-expanded={this.state.open}>\r\n                <div className=\"cloud_notifications_item_header\">\r\n                    <button className=\"cloud_notifications_item_header_text\" onClick={() => this.handleTitleClicked()} title={this.props.data.text} dangerouslySetInnerHTML={{ __html: (this.props.data.shortText || '') }}></button>\r\n                    <button className=\"cloud_notifications_item_header_close\" onClick={() => this.handleNotificationCloseClicked(this.props.data)}><i className=\"material-icons\">close</i></button>\r\n                </div>\r\n                <div className=\"cloud_notifications_item_body\" dangerouslySetInnerHTML={{ __html: (this.props.data.longText || '') }}></div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(Notification);","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\n\r\nimport Notification from './Notification/Notification';\r\n\r\nimport './Notifications.css';\r\n\r\nclass Notifications extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_notifications\">\r\n                {this.props.notifications.map((e) => (\r\n                    <Notification data={e} key={e.id} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        notifications: state.notifications.notifications\r\n    }\r\n};\r\n  \r\nexport default connect(mapStateToProps)(Notifications);","import { addNotification } from \"./notifications\";\r\nimport { saveAs } from 'file-saver';\r\n\r\nexport const RECEIVE_FILE_LIST = 'RECEIVE_FILE_LIST';\r\nexport const REQUEST_FILE_LIST = 'REQUEST_FILE_LIST';\r\nexport const ENABLE_FILE_EDIT_NAME = 'ENABLE_FILE_EDIT_NAME';\r\nexport const DISABLE_FILE_EDIT_NAME = 'DISABLE_FILE_EDIT_NAME';\r\nexport const TOGGLE_SELECT_FILE = 'TOGGLE_SELECT_FILE';\r\nexport const SELECT_ALL_FILES = 'SELECT_ALL_FILES';\r\nexport const TOGGLE_NEW_DIR = 'TOGGLE_NEW_DIR';\r\nexport const TOGGLE_NEW_FILE = 'TOGGLE_NEW_FILE';\r\nexport const HIDE_NEW_DIR = 'HIDE_NEW_DIR';\r\nexport const HIDE_NEW_FILE = 'HIDE_NEW_FILE';\r\nexport const REFRESH_FILE_LIST = 'REFRESH_FILE_LIST';\r\nexport const TOGGLE_HIDDEN_FILES = 'TOGGLE_HIDDEN_FILES';\r\n\r\nfunction pathToBreadcrumb(path) {\r\n    return (path.slice(-1) === '/' ? path.substring(0, path.length - 1) : path).split('/').map((item, index, array) => {\r\n        return { route: array.filter((x, y) => y <= index).join('/'), folderName: item }\r\n    });\r\n}\r\n\r\nfunction requestFileList(path) {\r\n    return {\r\n        type: REQUEST_FILE_LIST,\r\n        breadcrumb: pathToBreadcrumb(path),\r\n        path\r\n    }\r\n}\r\n\r\nfunction receiveFileList(json) {\r\n    return {\r\n        type: RECEIVE_FILE_LIST,\r\n        fileList: json.sort((a, b) => {\r\n            if (a.type === b.type) {\r\n                if (a.firstname < b.firstname) return -1;\r\n                if (a.firstname > b.firstname) return 1;\r\n                return 0;\r\n            } else if (a.type === \"dir\" && b.type === \"file\") return -1;\r\n            else return 1;\r\n        })\r\n    };\r\n}\r\n\r\nexport function fetchFileList(path) {\r\n    return function action(dispatch) {\r\n        dispatch(requestFileList(path));\r\n\r\n        return fetch(`/api/cloud/dir?url=${path}`, {\r\n            method: 'GET'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => dispatch(receiveFileList(json)));\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction receiveRefreshFileList(json) {\r\n    return {\r\n        type: REFRESH_FILE_LIST,\r\n        //fileList: json.dirs.map((e, i, a) => { e.type = 'dir'; return e; }).concat(json.files)\r\n        fileList: json.sort((a, b) => {\r\n            if (a.type === \"dir\" && b.type === \"file\") return 1;\r\n            if (a.type === b.type) {\r\n                if (a.firstname < b.firstname) return -1;\r\n                if (a.firstname > b.firstname) return 1;\r\n                return 0;\r\n            } else if (a.type === \"dir\" && b.type === \"file\") return 1;\r\n            else return -1;\r\n        })\r\n    }\r\n}\r\n\r\nexport function refreshFileList(path) {\r\n    return function action(dispatch) {\r\n        return fetch(`/api/cloud/dir?url=${path}`, {\r\n            method: 'GET'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => dispatch(receiveRefreshFileList(json)));\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleFileSelect(file) {\r\n    return {\r\n        type: TOGGLE_SELECT_FILE,\r\n        file\r\n    }\r\n}\r\n\r\nexport function selectAllFiles(selectStatus) {\r\n    return {\r\n        type: SELECT_ALL_FILES,\r\n        selectStatus\r\n    }\r\n}\r\n\r\nexport function enableFileEditName(file) {\r\n    return {\r\n        type: ENABLE_FILE_EDIT_NAME,\r\n        file\r\n    }\r\n}\r\n\r\nexport function disableFileEditName(file) {\r\n    return {\r\n        type: DISABLE_FILE_EDIT_NAME,\r\n        file\r\n    }\r\n}\r\n\r\nexport function toggleNewDir() {\r\n    return {\r\n        type: TOGGLE_NEW_DIR,\r\n    }\r\n}\r\n\r\nexport function toggleNewFile() {\r\n    return {\r\n        type: TOGGLE_NEW_FILE,\r\n    }\r\n}\r\n\r\nexport function hideNewDir() {\r\n    return {\r\n        type: HIDE_NEW_DIR,\r\n    }\r\n}\r\n\r\nexport function hideNewFile() {\r\n    return {\r\n        type: HIDE_NEW_FILE,\r\n    }\r\n}\r\n\r\nexport function submitNewDir(path, name) {\r\n    return function action(dispatch) {\r\n        dispatch(hideNewDir());\r\n        return fetch('/api/cloud/dir', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ url: path + '/' + name })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function submitNewFile(path, name) {\r\n    return function action(dispatch) {\r\n        dispatch(hideNewFile());\r\n        return fetch('/api/cloud/file', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ url: path + '/' + name })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function renameFile(file, newUrl) {\r\n    return function action(dispatch) {\r\n        return fetch('/api/cloud/file', {\r\n            method: 'PUT',\r\n            body: JSON.stringify({ url: file.url, newurl: newUrl })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(file.url.replace(file.name, ''))); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function uploadFiles(files, path) {\r\n    return function action(dispatch) {\r\n        let data = new FormData();\r\n        data.append('url', path);\r\n        files.forEach(function(file, index) {\r\n            data.append('file-'+index, file, file.name)\r\n        });\r\n        fetch('/api/cloud/file', {\r\n            method: 'POST',\r\n            body: data\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function toggleHiddenFiles() {\r\n    return {\r\n        type: TOGGLE_HIDDEN_FILES\r\n    }\r\n}\r\n\r\nexport function compressFiles(files, path) {\r\n    return function action(dispatch) {\r\n        fetch('/api/cloud/zip', {\r\n            method: 'POST',\r\n            body: JSON.stringify({ url: path, files: files })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n            } else {\r\n                response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nexport function deleteFiles(urls, path) {\r\n    return function action(dispatch) {\r\n        for (let url in urls) {\r\n\r\n            fetch('/api/cloud/delete', {\r\n                method: 'DELETE',\r\n                body: JSON.stringify({ url: url })\r\n            }).then(response => {\r\n                if (response.ok) {\r\n                    response.json().then((json) => { dispatch(refreshFileList(path)); dispatch(addNotification(json.msg, json.detail)); });\r\n                } else {\r\n                    response.text().then((text) => { dispatch(receiveFileList([])); dispatch(addNotification(response.statusText, text)) });\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n\r\nexport function downloadFile(file) {\r\n    return function action(dispatch) {\r\n        fetch('/api/cloud/file?url=' + file.url, {\r\n            method: 'GET'\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.blob().then(blob => saveAs(blob, file.name));\r\n            } else {\r\n                response.text().then((text) => { dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        });\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\nimport './style.css';\r\n\r\nclass Breadcrumb extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <ul className=\"breadcrumb\">\r\n                {this.props.breadcrumb.map((item, i, breadcrumb) => {\r\n                    return (\r\n                        <li className=\"breadcrumb_item\" key={item.route}>\r\n                            <Link title={item.folderName} to={(i === 0 ? '/' : item.route) + window.location.hash} className=\"breadcrumb_item_text\">\r\n                                {i === 0 ? <i className=\"material-icons\">cloud</i> : item.folderName}\r\n                            </Link>\r\n                        </li>\r\n                    )\r\n                })}\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        breadcrumb: state.navigation.breadcrumb\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Breadcrumb);","import React, { Component } from 'react';\r\n\r\nimport './Image.css';\r\n\r\nclass Image extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            url: URL.createObjectURL(this.props.file.blob)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_preview_panel_item_image\">\r\n                <a href={this.state.url}><img src={this.state.url} alt={'preview ' + this.props.file.name + ' image file'} /></a>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Image;","import { addNotification } from \"./notifications\";\r\n\r\nexport const ADD_PREVIEW_FILE = 'ADD_PREVIEW_FILE';\r\nexport const REMOVE_PREVIEW_FILE = 'REMOVE_PREVIEW_FILE';\r\nexport const REQUEST_PREVIEW_CONTENT = 'REQUEST_PREVIEW_CONTENT';\r\nexport const RECEIVE_PREVIEW_CONTENT = 'RECEIVE_PREVIEW_CONTENT';\r\nexport const UPDATE_PREVIEW_TAB = 'UPDATE_PREVIEW_TAB';\r\n\r\nexport function previewFile(file) {\r\n    return function action(dispatch) {\r\n        dispatch(addPreviewFile(file));\r\n        fetch('/api/cloud/file?url=' + file.url, { method: 'GET' })\r\n            .then(response => {\r\n                if (response.ok) {\r\n                    // response.json().then((json) => { dispatch(receivePreviewContent(file, json)); });\r\n                    response.blob().then((blob) => { dispatch(receivePreviewContent(file, blob)); });\r\n                } else {\r\n                    response.text().then((text) => { dispatch(receivePreviewContent(file, { type: 'error' })); dispatch(addNotification(response.statusText, text)) });\r\n                }\r\n            })\r\n    }\r\n}\r\n\r\nexport function closePreviewFile(url) {\r\n    return {\r\n        type: REMOVE_PREVIEW_FILE,\r\n        url\r\n    }\r\n}\r\n\r\nfunction addPreviewFile(file) {\r\n    return {\r\n        type: ADD_PREVIEW_FILE,\r\n        file\r\n    }\r\n}\r\n\r\nfunction receivePreviewContent(file, blob) {\r\n    return {\r\n        type: RECEIVE_PREVIEW_CONTENT,\r\n        blob,\r\n        file\r\n    }\r\n}\r\n\r\nexport function selectPreview(index) {\r\n    return {\r\n        type: UPDATE_PREVIEW_TAB,\r\n        index\r\n    }\r\n}\r\n\r\nexport function saveFile(path, content) {\r\n    return function action(dispatch) {\r\n        fetch('/api/cloud/file', {\r\n            method: 'PUT',\r\n            body: JSON.stringify({ url: path, content: content })\r\n        }).then(response => {\r\n            if (response.ok) {\r\n                response.json().then((json) => { dispatch(addNotification(json.msg, json.detail)) });\r\n            } else {\r\n                response.text().then((text) => { dispatch(addNotification(response.statusText, text)) });\r\n            }\r\n        })\r\n    }\r\n}","const Hljs = require('highlight.js/lib/highlight')\r\n\r\nHljs.registerLanguage('css', require('highlight.js/lib/languages/css'))\r\nHljs.registerLanguage('json', require('highlight.js/lib/languages/json'))\r\nHljs.registerLanguage('less', require('highlight.js/lib/languages/less'))\r\nHljs.registerLanguage('scss', require('highlight.js/lib/languages/scss'))\r\nHljs.registerLanguage(\r\n  'javascript',\r\n  require('highlight.js/lib/languages/javascript')\r\n)\r\nHljs.registerLanguage(\r\n  'typescript',\r\n  require('highlight.js/lib/languages/typescript')\r\n)\r\n\r\nexport default Hljs\r\n","import marked from 'marked'\r\nimport Hljs from './highlight'\r\n\r\nmarked.setOptions({\r\n  renderer: new marked.Renderer(),\r\n  gfm: true,\r\n  tables: true,\r\n  breaks: false,\r\n  pedantic: false,\r\n  sanitize: false,\r\n  smartLists: true,\r\n  smartypants: false,\r\n  highlight(code) {\r\n    return Hljs.highlightAuto(code).value\r\n  }\r\n})\r\n\r\nconst renderer = new marked.Renderer()\r\n\r\n// 段落解析\r\nconst paragraphParse = text => `<p>${text}</p>`\r\n\r\n// 链接解析\r\nconst linkParse = (href, title, text) => {\r\n  return `<a href=${href}\r\n      title=${title || href}\r\n      target='_blank'\r\n      }>${text}</a>`\r\n}\r\n\r\nrenderer.paragraph = paragraphParse\r\nrenderer.link = linkParse\r\n\r\nexport default content => {\r\n  if (typeof content !== 'string') return ''\r\n\r\n  return marked(content, { renderer })\r\n}\r\n","function insert($vm, prefix, hint = '', subfix = '') {\r\n  const value = $vm.value\r\n  if ($vm.selectionStart || $vm.selectionStart === 0) {\r\n    let start = $vm.selectionStart\r\n    let end = $vm.selectionEnd\r\n\r\n    const restoreTop = $vm.scrollTop\r\n\r\n    if (start === end) {\r\n      $vm.value =\r\n        value.substring(0, start) +\r\n        prefix +\r\n        hint +\r\n        subfix +\r\n        value.substring(end, value.length)\r\n      $vm.selectionStart = start + prefix.length\r\n      $vm.selectionEnd = end + prefix.length + hint.length\r\n    } else {\r\n      $vm.value =\r\n        value.substring(0, start) +\r\n        prefix +\r\n        value.substring(start, end) +\r\n        subfix +\r\n        value.substring(end, value.length)\r\n      $vm.selectionStart = start + prefix.length\r\n      $vm.selectionEnd = end + prefix.length\r\n    }\r\n\r\n    $vm.focus()\r\n    if (restoreTop >= 0) {\r\n      $vm.scrollTop = restoreTop\r\n    }\r\n  }\r\n}\r\n\r\nconst toolbar = {\r\n  h1($vm) {\r\n    insert($vm, '# ', 'title')\r\n  },\r\n  h2($vm) {\r\n    insert($vm, '## ', 'title')\r\n  },\r\n  h3($vm) {\r\n    insert($vm, '### ', 'title')\r\n  },\r\n  h4($vm) {\r\n    insert($vm, '#### ', 'title')\r\n  },\r\n  image($vm) {\r\n    insert($vm, '![alt](', 'url', ')')\r\n  },\r\n  link($vm) {\r\n    insert($vm, '[title](', 'url', ')')\r\n  },\r\n  code($vm) {\r\n    insert($vm, '```', 'language', '\\n\\n```')\r\n  },\r\n  tab($vm) {\r\n    insert($vm, '  ')\r\n  }\r\n}\r\n\r\nexport default ($vm, type) => {\r\n  return toolbar[type]($vm)\r\n}\r\n","export default {\r\n    zh: {\r\n        placeholder: '请输入内容...',\r\n        undo: '上一步 (ctrl+z)',\r\n        redo: '下一步 (ctrl+y)',\r\n        h1: '一级标题',\r\n        h2: '二级标题',\r\n        h3: '三级标题',\r\n        h4: '四级标题',\r\n        image: '图片',\r\n        link: '超链接',\r\n        code: '代码块',\r\n        save: '保存 (ctrl+s)',\r\n    },\r\n    en: {\r\n        placeholder: 'Please enter the content...',\r\n        undo: 'Undo (ctrl+z)',\r\n        redo: 'Redo (ctrl+y)',\r\n        h1: 'Level one title',\r\n        h2: 'Level two title',\r\n        h3: 'Level three title',\r\n        h4: 'Level four title',\r\n        image: 'Image',\r\n        link: 'Hyperlink',\r\n        code: 'Code block',\r\n        save: 'Save (ctrl+s)',\r\n    }\r\n}","const KEY_CODE = {\r\n  F8: 119,\r\n  F9: 120,\r\n  F10: 121,\r\n  F11: 122,\r\n  F12: 123,\r\n  B: 66,\r\n  I: 73,\r\n  H: 72,\r\n  U: 85,\r\n  D: 68,\r\n  M: 77,\r\n  Q: 81,\r\n  O: 79,\r\n  L: 76,\r\n  S: 83,\r\n  Z: 90,\r\n  Y: 89,\r\n  C: 67,\r\n  T: 84,\r\n  R: 82,\r\n  DELETE: 8,\r\n  TAB: 9,\r\n  ENTER: 13,\r\n  ONE: 97,\r\n  TWO: 98,\r\n  THREE: 99,\r\n  FOUR: 100,\r\n  FIVE: 101,\r\n  SIX: 102,\r\n  _ONE: 49,\r\n  _TWO: 50,\r\n  _THREE: 51,\r\n  _FOUR: 52,\r\n  _FIVE: 53,\r\n  _SIX: 54\r\n}\r\n\r\nexport default ins => {\r\n  const $vm = ins.$vm\r\n  $vm.addEventListener('keydown', e => {\r\n    if (!(e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\r\n      switch (e.keyCode) {\r\n        case KEY_CODE.TAB: {\r\n          e.preventDefault()\r\n          ins.insert('tab')\r\n          break\r\n        }\r\n        default: break;\r\n      }\r\n    } else if ((e.ctrlKey || e.metaKey) && !e.altKey && !e.shiftKey) {\r\n      // ctrl +\r\n      switch (e.keyCode) {\r\n        case KEY_CODE.Z: {\r\n          // Z\r\n          e.preventDefault()\r\n          ins.undo()\r\n          break\r\n        }\r\n        case KEY_CODE.Y: {\r\n          // Y\r\n          e.preventDefault()\r\n          ins.redo()\r\n          break\r\n        }\r\n        case KEY_CODE.S: {\r\n          // S\r\n          e.preventDefault()\r\n          ins.save()\r\n          break\r\n        }\r\n        default: break;\r\n      }\r\n    }\r\n  })\r\n}\r\n","import React from 'react'\r\nimport './index.css'\r\nimport classNames from 'classnames'\r\nimport marked from '../helpers/marked'\r\nimport textInsert from '../helpers/insertText'\r\nimport lang from '../helpers/lang'\r\nimport keydownListen from '../helpers/keydownListen'\r\nimport 'highlight.js/styles/tomorrow.css'\r\nimport '../fonts/iconfont.css'\r\n\r\nclass MdEditor extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.$vm = null\r\n    this.handleEditorRef = $vm => {\r\n      this.$vm = $vm\r\n    }\r\n\r\n    this.state = {\r\n      preview: false,\r\n      expand: false,\r\n      f_history: [],\r\n      f_history_index: 0,\r\n      line_index: 1\r\n    }\r\n  }\r\n\r\n  static defaultProps = {\r\n    lineNum: true,\r\n    height: '600px',\r\n    controlbar: true,\r\n    allowfullscreen: true,\r\n    allowpreview: true,\r\n    allowsave: true,\r\n    lang: 'zh'\r\n  }\r\n\r\n  componentDidMount() {\r\n    keydownListen(this)\r\n    this.handleLineIndex(this.props.value)\r\n  }\r\n\r\n  componentWillUpdate(props, state) {\r\n    const { f_history } = this.state\r\n    if (props.value && state.f_history.length === 0) {\r\n      f_history.push(props.value)\r\n      this.setState({\r\n        f_history\r\n      })\r\n      this.handleLineIndex(props.value)\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.value !== this.props.value) {\r\n      this.handleLineIndex(nextProps.value)\r\n    }\r\n  }\r\n\r\n  // 输入框改变\r\n  handleChange = e => {\r\n    const value = e.target.value\r\n    this.saveHistory(value)\r\n    this.props.onChange(value)\r\n  }\r\n\r\n  // 快捷插入\r\n  insert = e => {\r\n    const { $vm } = this\r\n    const type = e.currentTarget ? e.currentTarget.getAttribute('data-type') : e\r\n    textInsert($vm, type)\r\n    this.props.onChange($vm.value)\r\n    this.saveHistory($vm.value)\r\n  }\r\n\r\n  // 保存记录\r\n  saveHistory(value) {\r\n    let { f_history, f_history_index } = this.state\r\n    window.clearTimeout(this.currentTimeout)\r\n    this.currentTimeout = setTimeout(() => {\r\n      // 撤销后修改，删除当前以后记录\r\n      if (f_history_index < f_history.length - 1) {\r\n        f_history.splice(f_history_index + 1)\r\n      }\r\n      // 超出记录最多保存数后，滚动储存\r\n      if (f_history.length >= 20) {\r\n        f_history.shift()\r\n      }\r\n      // 记录当前位置\r\n      f_history_index = f_history.length\r\n      f_history.push(value)\r\n      this.setState({\r\n        f_history,\r\n        f_history_index\r\n      })\r\n    }, 500)\r\n    // 行号\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  handleLineIndex(value) {\r\n    const line_index = value ? value.split('\\n').length : 1\r\n    this.setState({\r\n      line_index\r\n    })\r\n  }\r\n\r\n  undo = () => {\r\n    const { f_history } = this.state\r\n    let { f_history_index } = this.state\r\n    f_history_index = f_history_index - 1\r\n    if (f_history_index < 0) return\r\n    this.setState({\r\n      f_history_index\r\n    })\r\n    const value = f_history[f_history_index]\r\n    // 将值传递给父组件\r\n    this.props.onChange(value)\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  redo = () => {\r\n    const { f_history } = this.state\r\n    let { f_history_index } = this.state\r\n    f_history_index = f_history_index + 1\r\n    if (f_history_index >= f_history.length) return\r\n    this.setState({\r\n      f_history_index\r\n    })\r\n    const value = f_history[f_history_index]\r\n    // 将值传递给父组件\r\n    this.props.onChange(value)\r\n    this.handleLineIndex(value)\r\n  }\r\n\r\n  // 预览\r\n  preview = () => {\r\n    this.setState({\r\n      preview: !this.state.preview\r\n    })\r\n  }\r\n\r\n  // 全屏\r\n  expand = () => {\r\n    this.setState({\r\n      expand: !this.state.expand\r\n    })\r\n  }\r\n\r\n  // 保存\r\n  save = () => {\r\n    if (this.props.allowsave) this.props.onSave()\r\n  }\r\n\r\n  render() {\r\n    const { preview, expand, line_index } = this.state\r\n    const { value } = this.props\r\n    const previewClass = classNames({\r\n      'for-panel': true,\r\n      'for-preview-hidden': !preview\r\n    })\r\n    const editorClass = classNames({\r\n      'for-panel': true\r\n    })\r\n    const previewActive = classNames({\r\n      'for-active': preview\r\n    })\r\n    const fullscreen = classNames({\r\n      'for-container': true,\r\n      'for-fullscreen': expand\r\n    })\r\n    const expandActive = classNames({\r\n      'for-active': expand\r\n    })\r\n    const lineNumStyles = classNames({\r\n      'for-line-num': true,\r\n      hidden: !this.props.lineNum\r\n    })\r\n\r\n    const lineNum = function () {\r\n      const list = []\r\n      for (let i = 0; i < line_index; i++) {\r\n        list.push(<li key={i + 1}>{i + 1}</li>)\r\n      }\r\n      return <ul className={lineNumStyles}>{list}</ul>\r\n    }\r\n\r\n    return (\r\n      <div className={fullscreen} style={{ height: this.props.height }}>\r\n        <div className=\"for-controlbar\">\r\n          <ul className=\"for-controlbar_md\">\r\n            <li onClick={this.undo} title={lang[this.props.lang].undo}>\r\n              <i className=\"foricon for-undo\" />\r\n            </li>\r\n            <li onClick={this.redo} title={lang[this.props.lang].redo}>\r\n              <i className=\"foricon for-redo\" />\r\n            </li>\r\n            {this.props.controlbar && (<>\r\n              <li data-type=\"h1\" onClick={this.insert} title={lang[this.props.lang].h1}>\r\n                H1\r\n            </li>\r\n              <li data-type=\"h2\" onClick={this.insert} title={lang[this.props.lang].h2}>\r\n                H2\r\n            </li>\r\n              <li data-type=\"h3\" onClick={this.insert} title={lang[this.props.lang].h3}>\r\n                H3\r\n            </li>\r\n              <li data-type=\"h4\" onClick={this.insert} title={lang[this.props.lang].h4}>\r\n                H4\r\n            </li>\r\n              <li data-type=\"image\" onClick={this.insert} title={lang[this.props.lang].image}>\r\n                <i className=\"foricon for-image\" />\r\n              </li>\r\n              <li data-type=\"link\" onClick={this.insert} title={lang[this.props.lang].link}>\r\n                <i className=\"foricon for-link\" />\r\n              </li>\r\n              <li data-type=\"code\" onClick={this.insert} title={lang[this.props.lang].code}>\r\n                <i className=\"foricon for-code\" />\r\n              </li>\r\n            </>)}\r\n          </ul>\r\n          <ul className=\"for-controlbar_tools\">\r\n            {this.props.allowsave && <li data-type=\"code\" onClick={this.save} title={lang[this.props.lang].save}>\r\n              <i className=\"foricon for-save\" />\r\n            </li>}\r\n            {this.props.allowfullscreen && <li className={expandActive} onClick={this.expand}>\r\n              {expandActive ? (\r\n                <i className=\"foricon for-contract\" />\r\n              ) : (\r\n                  <i className=\"foricon for-expand\" />\r\n                )}\r\n            </li>}\r\n            {this.props.allowpreview && <li className={previewActive} onClick={this.preview}>\r\n              {previewActive ? (\r\n                <i className=\"foricon for-eye-off\" />\r\n              ) : (\r\n                  <i className=\"foricon for-eye\" />\r\n                )}\r\n            </li>}\r\n          </ul>\r\n        </div>\r\n        <div className=\"for-editor\">\r\n          <div className={editorClass}>\r\n            <div className=\"for-editor-wrapper\">\r\n              {/* <div className=\"for-editor-wrapper-in\"> */}\r\n              <div className=\"for-editor-block\">\r\n                {lineNum()}\r\n                <div className=\"for-editor-content\">\r\n                  <pre>{value} </pre>\r\n                  <textarea\r\n                    wrap=\"soft\"\r\n                    ref={this.handleEditorRef}\r\n                    value={value}\r\n                    onChange={this.handleChange}\r\n                    placeholder={lang[this.props.lang].placeholder}\r\n                  />\r\n                </div>\r\n              </div>\r\n              {/* </div> */}\r\n            </div>\r\n          </div>\r\n          <div className={previewClass}>\r\n            <div\r\n              className=\"for-preview for-markdown-preview\"\r\n              dangerouslySetInnerHTML={{ __html: marked(value) }}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default MdEditor\r\n","import Editor from './editor'\r\n\r\nexport default Editor\r\n","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { saveFile } from '../../../Redux/actions/preview';\r\n\r\nimport TextEditor from '../../TextEditor'\r\n\r\nimport './Text.css';\r\n\r\nclass Text extends Component {\r\n\r\n    handleSaveClick = () => {\r\n        this.props.dispatch(saveFile(this.props.file.url, this.props.file.content));\r\n    }\r\n\r\n    handleValueChange = (value) => {\r\n        this.props.file.content = value;\r\n        this.setState({});\r\n    }\r\n\r\n    componentWillMount() {\r\n        let _this = this;\r\n        var reader = new FileReader();\r\n        reader.onload = function () {\r\n            _this.handleValueChange(reader.result);\r\n        }\r\n        reader.readAsText(this.props.file.blob);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_preview_panel_item_container\">\r\n                <TextEditor lang=\"en\" controlbar={this.props.file.url.match(/\\.md$/)} allowfullscreen={true} allowpreview={this.props.file.url.match(/\\.(md|html|htm)$/)} allowsave={true} value={this.props.file.content} onChange={this.handleValueChange.bind(this)} onSave={this.handleSaveClick.bind(this)} />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(Text);","import React, { Component } from 'react';\r\n\r\nimport './PDF.css';\r\n\r\nclass PDF extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            url: URL.createObjectURL(this.props.file.blob)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <embed className=\"cloud_preview_panel_item_pdf\" src={this.state.url} alt=\"pdf\" pluginspage=\"http://www.adobe.com/products/acrobat/readstep2.html\"></embed>\r\n        );\r\n    }\r\n}\r\n\r\nexport default PDF;","import React, { Component } from 'react';\r\n\r\nimport './Error.css';\r\n\r\nimport logo from './network-error.svg';\r\n\r\nclass Error extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_preview_panel_item_error\">\r\n                <img src={logo} alt=\"Error\" />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Error;","import React, { Component } from 'react';\r\n\r\nclass ReadableOctets extends Component {\r\n    humanFileSize(size) {\r\n        var i = Math.floor(Math.log(size) / Math.log(1024));\r\n        return isNaN(size) ? '' : (size === 0) ? '0 B' : (size / Math.pow(1024, i)).toFixed(2) * 1 + ' ' + ['B', 'kB', 'MB', 'GB', 'TB'][i];\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <span {...this.props}>\r\n                {this.humanFileSize(this.props.children)}\r\n            </span >\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReadableOctets;","import React, { Component } from 'react';\r\n\r\nclass ReadableDate extends Component {\r\n    timeDifference(current, previous) {\r\n        var msPerMinute = 60 * 1000;\r\n        var msPerHour = msPerMinute * 60;\r\n        var msPerDay = msPerHour * 24;\r\n        var msPerMonth = msPerDay * 30;\r\n        var msPerYear = msPerDay * 365;\r\n\r\n        var elapsed = current - previous;\r\n\r\n        if (elapsed < msPerMinute) {\r\n            return Math.round(elapsed / 1000) + ((elapsed / 1000) < 2 ? ' second' : ' seconds') + ' ago';\r\n        } else if (elapsed < msPerHour) {\r\n            return Math.round(elapsed / msPerMinute) + ((elapsed / msPerMinute) < 2 ? ' minute' : ' minutes') + ' ago';\r\n        } else if (elapsed < msPerDay) {\r\n            return Math.round(elapsed / msPerHour) + ((elapsed / msPerHour) < 2 ? ' hour' : ' hours') + ' ago';\r\n        } else if (elapsed < msPerMonth) {\r\n            return Math.round(elapsed / msPerDay) + ((elapsed / msPerDay) < 2 ? ' day' : ' days') + ' ago';\r\n        } else if (elapsed < msPerYear) {\r\n            return Math.round(elapsed / msPerMonth) + ((elapsed / msPerMonth) < 2 ? ' month' : ' months') + ' ago';\r\n        } else {\r\n            return Math.round(elapsed / msPerYear) + ((elapsed / msPerYear) < 2 ? ' year' : ' years') + ' ago';\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span {...this.props} title={(this.props.children === '' || typeof this.props.children === 'undefined') ? '' : new Intl.DateTimeFormat('fr-FR', { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' }).format(this.props.children)}>\r\n                {this.timeDifference(Date.now(), this.props.children)}\r\n            </span >\r\n        );\r\n    }\r\n}\r\n\r\nexport default ReadableDate;","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport './Zip.css';\r\nimport ReadableOctets from '../../ReadableOctets';\r\nimport ReadableDate from '../../ReadableDate';\r\n\r\nclass Zip extends Component {\r\n\r\n    state = { zip: [] }\r\n\r\n    process(entries) {\r\n        console.log(entries);\r\n        let array = [];\r\n        let contents = [];\r\n        for (const entry of entries) {\r\n            if (!entry.directory) {\r\n                // eslint-disable-next-line\r\n                let splitname = entry.filename.split(/\\/(?=[^\\/]+$)/);\r\n                // create file obj\r\n                let file = { name: splitname[splitname.length - 1], type: \"file\", size: entry.uncompressedSize, mtime: entry.lastModDateRaw * 100000, entry };\r\n                // create dir if needed\r\n                if (splitname.length > 1 && typeof contents[splitname[0]] === \"undefined\")\r\n                    createDir(splitname[0]);\r\n                // add file obj to parent dir\r\n                splitname.length > 1 ? contents[splitname[0]].push(file) : array.push(file);\r\n            }\r\n        }\r\n        this.setState({ zip: array });\r\n\r\n\r\n        function createDir(dirname) {\r\n            // eslint-disable-next-line\r\n            let splitname = dirname.split(/\\/(?=[^\\/]+$)/);\r\n\r\n            // create dir obj\r\n            let dir = { name: splitname[splitname.length - 1], type: \"dir\", content: [] };\r\n            // save content attribute reference\r\n            contents[dirname] = dir.content;\r\n            // create dir if needed\r\n            if (splitname.length > 1 && typeof contents[splitname[0]] === \"undefined\")\r\n                createDir(splitname[0]);\r\n            // add dir obj to parent dir\r\n            splitname.length > 1 ? contents[splitname[0]].push(dir) : array.push(dir);\r\n        }\r\n    }\r\n\r\n    tmp() {\r\n        let _this = this;\r\n        // use a BlobReader to read the zip from a Blob object\r\n        window.zip.createReader(new window.zip.BlobReader(this.props.file.blob), function (reader) {\r\n\r\n            // get all entries from the zip\r\n            reader.getEntries(function (entries) {\r\n                if (entries.length) {\r\n                    _this.process(entries);\r\n                }\r\n            });\r\n\r\n            // Close reader after 30 seconds\r\n            window.setTimeout(function () { reader.close(); }, 30000);\r\n        }, function (error) {\r\n            // onerror callback\r\n        });\r\n    }\r\n\r\n    componentWillMount() {\r\n        this.tmp();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"cloud_preview_panel_item_container\">\r\n                {this.state.zip.map((e) => (\r\n                    (e.type === \"dir\" && <ZipDir dir={e} />) || <ZipFile file={e} />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ZipDir extends Component {\r\n\r\n    state = {\r\n        expanded: false\r\n    }\r\n\r\n    handleClick = () => {\r\n        this.setState((prevState) => ({ expanded: !prevState.expanded }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div aria-expanded={this.state.expanded} className=\"cloud_preview_panel_item_zip_dir\">\r\n                <button className=\"cloud_preview_panel_item_zip_dir_infos\" onClick={this.handleClick}>\r\n                    <span className=\"cloud_preview_panel_item_zip_dir_infos_icon\"><i className=\"material-icons\">{this.state.expanded ? \"folder_open\" : \"folder\"}</i></span>\r\n                    <span className=\"cloud_preview_panel_item_zip_dir_infos_name\">{this.props.dir.name}</span>\r\n                </button>\r\n                <div className=\"cloud_preview_panel_item_zip_dir_content\">\r\n                    {this.props.dir.content.map((e) => (\r\n                        (e.type === \"dir\" && <ZipDir dir={e} />) || <ZipFile file={e} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nclass ZipFile extends Component {\r\n    // handleClick() {\r\n    //     this.props.file.entry.getData(new window.zip.TextWriter(), function (text) {\r\n    //         console.log(text);\r\n    //         //reader.close();\r\n    //     })\r\n    // }\r\n\r\n    render() {\r\n        return (\r\n            // <div className=\"cloud_preview_panel_item_zip_file\" onClick={this.handleClick.bind(this)}>\r\n            <div className=\"cloud_preview_panel_item_zip_file\" onClick={this.handleClick.bind(this)}>\r\n\r\n                <span className=\"cloud_preview_panel_item_zip_file_icon\"><i className=\"material-icons\">insert_drive_file</i></span>\r\n                <span className=\"cloud_preview_panel_item_zip_file_name\">{this.props.file.name}</span>\r\n                <ReadableOctets className=\"cloud_preview_panel_item_zip_file_size\">{this.props.file.size}</ReadableOctets>\r\n                <ReadableDate className=\"cloud_preview_panel_item_zip_file_mtime\">{this.props.file.mtime}</ReadableDate>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(Zip);","import React, { Component } from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nclass LoadingSpinner extends Component {\r\n    render() {\r\n        return (\r\n            <div className=\"lds-dual-ring\"></div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default LoadingSpinner;","import React, { Component } from 'react';\r\nimport Image from './Image/Image';\r\nimport Text from './Text/Text';\r\nimport PDF from './PDF/PDF';\r\nimport Error from './Error/Error';\r\nimport Zip from './Zip/Zip';\r\nimport LoadingSpinner from '../LoadingSpinner/LoadingSpinner.js';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { selectPreview, closePreviewFile } from '../../Redux/actions/preview';\r\n\r\nimport './Preview.css';\r\n\r\nclass Preview extends Component {\r\n\r\n    handleTabClick = (file, index) => {\r\n        this.props.dispatch(selectPreview(index));\r\n    }\r\n\r\n    handleCloseTabClick = (url) => {\r\n        this.props.dispatch(closePreviewFile(url));\r\n    }\r\n\r\n    addButton = (file, label, callback) => {\r\n        if (typeof file.actions === \"undefined\") {\r\n            file.actions = [{ label: label, click: callback }];\r\n        } else {\r\n            if (typeof file.actions === \"undefined\") {\r\n                file.actions = [{ label: label, click: callback }];\r\n            } else {\r\n                file.actions = [...file.actions, { label: label, click: callback }];\r\n            }\r\n        }\r\n        this.setState({});\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <header>\r\n                    <nav>\r\n                        <ol className=\"cloud_preview_tabsbar\" role=\"tablist\">\r\n                            {this.props.previewFiles.map((item, index) => (\r\n                                <li key={item.url} className=\"cloud_preview_tabsbar_item\" role=\"tab\" aria-selected={index === this.props.activePreview}>\r\n                                    <button role=\"tab\" className=\"cloud_preview_tabsbar_item_name\" id={\"preview-\" + index} onClick={() => this.handleTabClick(item, index)} title={item.url}> {item.name} </button>\r\n                                    <button className=\"cloud_preview_tabsbar_item_close_btn material-icons\" onClick={() => this.handleCloseTabClick(item.url)}>close</button>\r\n                                </li>\r\n                            ))}\r\n                        </ol>\r\n                    </nav>\r\n                </header>\r\n\r\n                <main className=\"cloud_preview_panel\">\r\n                    {this.props.previewFiles.map((item, index) => (\r\n                        <div key={item.url} role=\"tabpanel\" className=\"cloud_preview_panel_item\" aria-labelledby={\"preview-\" + index} hidden={index !== this.props.activePreview}>\r\n                            {\r\n                                (typeof item.blob != 'undefined' && (\r\n                                    (item.blob.type.match(/^image\\/.*/) && <Image file={item} />)\r\n                                    || (item.blob.type.match(/^text\\/.*/) && <Text file={item} />)\r\n                                    || (item.blob.type === \"application/pdf\" && <PDF file={item} />)\r\n                                    || (item.blob.type === \"application/zip\" && <Zip file={item} />)\r\n                                )) || ((item.isContentLoaded && <Error />) || <LoadingSpinner />)\r\n                            }\r\n                        </div>\r\n                    ))}\r\n                </main>\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        previewFiles: state.preview.fileList,\r\n        activePreview: state.preview.activePreview\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(Preview);","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { renameFile, toggleFileSelect, enableFileEditName, disableFileEditName, downloadFile } from '../../../Redux/actions/navigation';\r\nimport { previewFile } from '../../../Redux/actions/preview';\r\nimport { connect } from 'react-redux'\r\n\r\nimport ReadableOctets from '../../ReadableOctets';\r\nimport ReadableDate from '../../ReadableDate';\r\n\r\nimport './FileListItem.css';\r\n\r\nclass FileListItem extends Component {\r\n    handleEditNameClick = () => {\r\n        this.props.dispatch(enableFileEditName(this.props.file));\r\n    }\r\n\r\n    handleCancelEditNameClick = () => {\r\n        this.props.dispatch(disableFileEditName(this.props.file));\r\n    }\r\n\r\n    handleSubmitEditNameClick = (newurl) => {\r\n        this.props.dispatch(renameFile(this.props.file, newurl));\r\n    }\r\n\r\n    handleSelectClick = () => {\r\n        this.props.dispatch(toggleFileSelect(this.props.file));\r\n    }\r\n\r\n    handleFileClick = () => {\r\n        this.props.dispatch(previewFile(this.props.file));\r\n    }\r\n\r\n    handleDownloadClick = () => {\r\n        this.props.dispatch(downloadFile(this.props.file));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li className=\"filestable_content_item\">\r\n                <div className=\"filestable_content_item_select\" onClick={() => this.handleSelectClick()}><i className=\"material-icons\">{this.props.file.selected ? \"check_box\" : (this.props.file.type === \"dir\" ? \"folder\" : \"insert_drive_file\")}</i></div>\r\n                {(this.props.file.editName !== true) && (this.props.file.type === \"dir\" ? (<Link to={this.props.file.url + window.location.hash} className=\"filestable_content_item_name\">{this.props.file.name}</Link>) : (<div className=\"filestable_content_item_name\" onClick={() => this.handleFileClick()}>{this.props.file.name}</div>))}\r\n                {(this.props.file.editName === true) && (<form className=\"filestable_content_item_name\">\r\n                    <input name=\"newfile\" className=\"filestable_content_item_name_rename\" id={\"rename-\" + this.props.file.url} type=\"text\" defaultValue={this.props.file.url} ref={el => this.newurl = el} />\r\n                </form>)}\r\n                <div className=\"filestable_content_item_icons\">\r\n                    {(this.props.file.editName !== true) && this.props.file.type !== \"dir\" && <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleDownloadClick(this.props.file.url)} ><i className=\"material-icons\">file_download</i></button>}\r\n                    {(this.props.file.editName !== true) && <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleEditNameClick()}><i className=\"material-icons\">mode_edit</i></button>}\r\n                    {(this.props.file.editName === true) && <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleSubmitEditNameClick(this.newurl.value)}><i className=\"material-icons\">done</i></button>}\r\n                    {(this.props.file.editName === true) && <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleCancelEditNameClick()}><i className=\"material-icons\">clear</i></button>}\r\n                </div>\r\n\r\n                <ReadableOctets className=\"filestable_content_item_size\">{this.props.file.size}</ReadableOctets>\r\n                <ReadableDate className=\"filestable_content_item_lastupdate\">{this.props.file.mtime}</ReadableDate>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {}\r\n};\r\n\r\nexport default connect(mapStateToProps)(FileListItem);","import React, { Component } from 'react';\r\n\r\nimport './FileListActionsButton.css';\r\n\r\nclass FileListActionsButton extends Component {\r\n    state = {\r\n        hidden: true\r\n    }\r\n\r\n    toggleMenu = () => {\r\n        this.setState(prevState => ({\r\n            hidden: !prevState.hidden\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"filestable_actions_button-container\" aria-expanded={!this.state.hidden}>\r\n                <div className=\"filestable_actions_button_actions-container\">\r\n                    {this.props.children}\r\n                </div>\r\n                <button className=\"filestable_actions_button-icon\" onClick={this.toggleMenu}><i className=\"material-icons\">add</i></button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FileListActionsButton;","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { submitNewFile, hideNewFile } from '../../../Redux/actions/navigation';\r\n\r\nclass FilestableNewFileItem extends Component {\r\n\r\n    handleSubmitNewFileClick = (filename) => {\r\n        this.props.dispatch(submitNewFile(this.props.path, filename));\r\n    }\r\n\r\n    handleCancelNewFileClick = () => {\r\n        this.props.dispatch(hideNewFile());\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li className=\"filestable_content_item\">\r\n                <div className=\"filestable_content_item_select\"><i className=\"material-icons\">note_add</i></div>\r\n                <form className=\"filestable_content_item_name\">\r\n                    <input name=\"newfile\" className=\"filestable_content_item_name_rename\" type=\"text\" placeholder=\"New file name\" ref={el => this.filename = el} />\r\n                </form>\r\n                <div className=\"filestable_content_item_icons\">\r\n                    <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleSubmitNewFileClick(this.filename.value)}><i className=\"material-icons\">done</i></button>\r\n                    <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleCancelNewFileClick()}><i className=\"material-icons\">clear</i></button>\r\n                </div>\r\n                <div className=\"filestable_content_item_lastupdate\"></div>\r\n                <div className=\"filestable_content_item_size\"></div>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        path: state.navigation.path\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(FilestableNewFileItem);","import React, { Component } from 'react';\r\n\r\nimport { connect } from 'react-redux'\r\nimport { submitNewDir, hideNewDir } from '../../../Redux/actions/navigation';\r\n\r\nclass FilestableNewDirItem extends Component {\r\n\r\n    handleSubmitNewDirClick = (dirname) => {\r\n        this.props.dispatch(submitNewDir(this.props.path, dirname));\r\n    }\r\n\r\n    handleCancelNewDirClick = () => {\r\n        this.props.dispatch(hideNewDir());\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <li className=\"filestable_content_item\">\r\n                <div className=\"filestable_content_item_select\"><i className=\"material-icons\">create_new_folder</i></div>\r\n                <form className=\"filestable_content_item_name\">\r\n                    <input name=\"newfile\" className=\"filestable_content_item_name_rename\" type=\"text\" placeholder=\"New dir name\" ref={el => this.dirname = el} />\r\n                </form>\r\n                <div className=\"filestable_content_item_icons\">\r\n                    <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleSubmitNewDirClick(this.dirname.value)}><i className=\"material-icons\">done</i></button>\r\n                    <button className=\"filestable_content_item_icons_item\" onClick={() => this.handleCancelNewDirClick()}><i className=\"material-icons\">clear</i></button>\r\n                </div>\r\n                <div className=\"filestable_content_item_lastupdate\"></div>\r\n                <div className=\"filestable_content_item_size\"></div>\r\n            </li>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        path: state.navigation.path\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(FilestableNewDirItem);","import React, { Component } from 'react';\r\n\r\nimport ReadableOctets from '../../ReadableOctets';\r\nimport ReadableDate from '../../ReadableDate';\r\n\r\nimport './FileListSkeletonItems.css';\r\n// import LoadingSpinner from '../../../LoadingSpinner/LoadingSpinner';\r\n\r\nclass FileListSkeletonItems extends Component {\r\n\r\n    generateName(minlength, maxlength) {\r\n        let length = Math.floor(Math.random() * maxlength) + minlength;\r\n        var text = \"\";\r\n        var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n        for (var i = 0; i < length; i++)\r\n            text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n        return text;\r\n    }\r\n\r\n    generateDate() {\r\n        let max = Date.now(), min = Date.now() * 0.99;\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n    }\r\n\r\n    generateSize() {\r\n        return Math.floor(Math.random() * 10000) + 0;\r\n    }\r\n\r\n    generateDirNumber(itemCount) {\r\n        return Math.floor(Math.random() * (itemCount / 2));\r\n    }\r\n\r\n    render() {\r\n        const itemCount = 5, dirNumber = this.generateDirNumber(itemCount);\r\n        return (\r\n            <div className=\"skeleton_screen\">\r\n                {[...Array(itemCount)].map((e, i) =>\r\n                    <li className=\"filestable_content_item --skeleton\">\r\n                        <div className=\"filestable_content_item_select\"><i className=\"material-icons\">{i > dirNumber ? 'insert_drive_file' : 'folder'}</i></div>\r\n                        <div className=\"filestable_content_item_name\">{this.generateName(4, 30)}</div>\r\n                        <div className=\"filestable_content_item_icons\">\r\n                            {i > dirNumber && <button className=\"filestable_content_item_icons_item\"><i className=\"material-icons\">file_download</i></button>}\r\n                            <button className=\"filestable_content_item_icons_item\"><i className=\"material-icons\">mode_edit</i></button>\r\n                        </div>\r\n\r\n                        <ReadableOctets className=\"filestable_content_item_size\">{i > dirNumber ? this.generateSize() : 'NaN'}</ReadableOctets>\r\n                        <ReadableDate className=\"filestable_content_item_lastupdate\">{this.generateDate()}</ReadableDate>\r\n                    </li>\r\n                )}\r\n                {/* <div className=\"skeleton_screen__spinner\"><LoadingSpinner /></div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default FileListSkeletonItems;","import React, { Component } from 'react';\r\nimport Dropzone from 'react-dropzone'\r\n\r\nimport './FileList.css';\r\nimport FileListItem from './FileListItem/FileListItem';\r\nimport FileListActionsButton from './FileListActionsButton/FileListActionsButton.js';\r\nimport FileListNewFileItem from './FileListNewFileItem/FileListNewFileItem.js';\r\nimport FileListNewDirItem from './FileListNewDirItem/FileListNewDirItem.js';\r\nimport FileListSkeletonItems from './FileListSkeletonItems/FileListSkeletonItems.js';\r\n\r\n\r\nimport { selectAllFiles, toggleHiddenFiles, toggleNewDir, toggleNewFile, compressFiles, deleteFiles, uploadFiles } from '../../Redux/actions/navigation';\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nclass FileList extends Component {\r\n    state = {\r\n        allSelected: false,\r\n    }\r\n\r\n    handleSelectAllClick = () => {\r\n        this.props.dispatch(selectAllFiles(!this.state.allSelected));\r\n\r\n        this.setState(prevState => ({\r\n            allSelected: !prevState.allSelected\r\n        }));\r\n    }\r\n\r\n    handleCompressfilesClick = () => {\r\n        this.props.dispatch(compressFiles(this.props.fileList.filter((e) => e.selected).map((e) => e.url), this.props.path));\r\n    }\r\n\r\n    handleDeletefilesClick = () => {\r\n        this.props.dispatch(deleteFiles(this.props.fileList.filter((e) => e.selected).map((e) => e.url), this.props.path));\r\n    }\r\n\r\n    handleUploadFilesClick = () => {\r\n        this.dropzoneRef.open();\r\n    }\r\n\r\n    handleNewDirClick = () => {\r\n        this.props.dispatch(toggleNewDir());\r\n    }\r\n\r\n    handleNewFileClick = () => {\r\n        this.props.dispatch(toggleNewFile());\r\n    }\r\n\r\n    handleToggleHiddenFilesClick = () => {\r\n        this.props.dispatch(toggleHiddenFiles());\r\n    }\r\n\r\n    onDrop(files) {\r\n        this.props.dispatch(uploadFiles(files, this.props.path));\r\n    }\r\n\r\n    render() {\r\n        const { allSelected } = this.state\r\n        return (\r\n            <div className=\"filestable\">\r\n                <header className=\"filestable_header\">\r\n                    <div className=\"filestable_header_select\" onClick={() => this.handleSelectAllClick()}>\r\n                        <i className=\"material-icons\">{allSelected ? \"check_box\" : \"check_box_outline_blank\"}</i>\r\n                    </div>\r\n                    <div className=\"filestable_header_name\">Name</div>\r\n                    <FileListActionsButton>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"Compress files (zip)\" onClick={this.handleCompressfilesClick}><i className=\"material-icons\">archive</i></button>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"Delete files\" onClick={this.handleDeletefilesClick}><i className=\"material-icons\">delete</i></button>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"Upload files\" onClick={this.handleUploadFilesClick}><i className=\"material-icons\">cloud_upload</i></button>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"New file\" onClick={this.handleNewFileClick}><i className=\"material-icons\">note_add</i></button>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"New folder\" onClick={this.handleNewDirClick}><i className=\"material-icons\">create_new_folder</i></button>\r\n                        <button className=\"filestable_actions_button_action-icon\" title=\"Toggle hidden files\" onClick={this.handleToggleHiddenFilesClick}><i className=\"material-icons\">visibility_off</i></button>\r\n                    </FileListActionsButton>\r\n                </header>\r\n                <Dropzone className=\"cloud_navigation_dropzone\" onDrop={this.onDrop.bind(this)} disableClick ref={(node) => { this.dropzoneRef = node; }}>\r\n                    <ol className={this.props.isFileListLoaded && this.props.fileList.length === 0 ? \"filestable_content filestable_content--empty\" : \"filestable_content\"}>\r\n                        {!this.props.isFileListLoaded && <FileListSkeletonItems />}\r\n                        {this.props.isFileListLoaded && this.props.displayNewFile && <FileListNewFileItem />}\r\n                        {this.props.isFileListLoaded && this.props.displayNewDir && <FileListNewDirItem />}\r\n                        {this.props.isFileListLoaded && this.props.fileList.map((item) => (\r\n                            (item.name.charAt(0) !== \".\" || (item.name.charAt(0) === \".\" && this.props.displayHiddenFiles)) && <FileListItem file={item} key={item.url} />\r\n                        ))}\r\n                    </ol>\r\n                </Dropzone>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        fileList: state.navigation.fileList,\r\n        isFileListLoaded: state.navigation.isFileListLoaded,\r\n        displayHiddenFiles: state.navigation.displayHiddenFiles,\r\n        displayNewDir: state.navigation.displayNewDir,\r\n        displayNewFile: state.navigation.displayNewFile,\r\n        path: state.navigation.path\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps)(FileList);","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Notifications from './Components/Notifications/Notifications';\r\nimport { connect } from 'react-redux'\r\nimport { fetchFileList } from './Redux/actions/navigation'\r\n\r\nimport Breadcrumb from './Components/Breadcrumb';\r\nimport Preview from './Components/Preview';\r\nimport FileList from './Components/FileList/FileList';\r\n\r\nclass App extends Component {\r\n\r\n  componentWillMount() {\r\n    // init breadcrumb & file list\r\n    this.props.dispatch(fetchFileList(this.props.location.pathname));\r\n\r\n    this.unlisten = this.props.history.listen((location, action) => {\r\n      console.log(\"Route change (\" + action + \"). New location : \" + location.pathname + location.search + location.hash);\r\n      switch (action) {\r\n        case 'PUSH': // location pathname change\r\n          this.props.dispatch(fetchFileList(location.pathname));\r\n          break;\r\n        case 'POP': // location hash change\r\n          this.props.dispatch(fetchFileList(location.pathname));\r\n          break;\r\n        default: break;\r\n      }\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.unlisten();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section className=\"cloud\">\r\n        <header className=\"cloud_header\">\r\n          <Breadcrumb />\r\n        </header>\r\n        <main className=\"cloud_main\">\r\n          <section className=\"cloud_navigation\" aria-expanded={this.props.preview.length <= 0}>\r\n            <FileList />\r\n          </section>\r\n          <section className=\"cloud_preview\" aria-expanded={this.props.preview.length > 0}>\r\n            <Preview />\r\n          </section>\r\n\r\n          <div className=\"cloud_notifications\"><Notifications /></div>\r\n        </main>\r\n      </section>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    preview: state.preview.fileList\r\n  }\r\n};\r\n\r\nexport default connect(mapStateToProps)(App);","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","const initialNavigationState = {\r\n  fileList: [],\r\n  isFileListLoaded: true,\r\n  previewFileList: [],\r\n  breadcrumb: [],\r\n  displayHiddenFiles: false,\r\n  displayNewDir: false,\r\n  displayNewFile: false,\r\n  path: '/'\r\n};\r\n\r\nexport const navigation = (state = initialNavigationState, action) => {\r\n  switch (action.type) {\r\n    case 'RECEIVE_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        fileList: action.fileList,\r\n        isFileListLoaded: true\r\n      };\r\n    case 'REFRESH_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        fileList: action.fileList.map(function(e,i,a) {\r\n          return {...state.fileList.filter((function(elem, index, self) {\r\n            return index === self.map((element) => element.url).indexOf(e.url);\r\n          }))[0], ...e}\r\n        })\r\n      }\r\n    case 'ADD_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: [...state.fileList, action.file]\r\n      };\r\n    case 'REMOVE_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.filter(file => file.url !== action.file.url)\r\n      };\r\n    case 'TOGGLE_SELECT_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? {...file, selected: !file.selected} : file)\r\n      };\r\n    case 'SELECT_ALL_FILES' :\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => ({...file, selected: action.selectStatus}))\r\n      }\r\n    case 'REQUEST_FILE_LIST':\r\n      return {\r\n        ...state,\r\n        breadcrumb: action.breadcrumb,\r\n        path: action.path,\r\n        isFileListLoaded: false\r\n      };\r\n    case 'ENABLE_FILE_EDIT_NAME':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? {...file, editName: true} : file)\r\n      }\r\n    case 'DISABLE_FILE_EDIT_NAME':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? {...file, editName: false} : file)        \r\n      }\r\n    case 'TOGGLE_NEW_DIR':\r\n      return {\r\n        ...state,\r\n        displayNewDir: !state.displayNewDir\r\n      }\r\n    case 'TOGGLE_NEW_FILE':\r\n      return {\r\n        ...state,\r\n        displayNewFile: !state.displayNewFile\r\n      }\r\n    case 'HIDE_NEW_DIR':\r\n      return {\r\n        ...state,\r\n        displayNewDir: false\r\n      }\r\n    case 'HIDE_NEW_FILE':\r\n      return {\r\n        ...state,\r\n        displayNewFile: false\r\n      }\r\n    case 'TOGGLE_HIDDEN_FILES':\r\n      return {\r\n        ...state,\r\n        displayHiddenFiles: !state.displayHiddenFiles\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialPreviewState = {\r\n  fileList: [],\r\n  activePreview: 0\r\n}\r\n\r\nexport const preview = (state = initialPreviewState, action) => {\r\n  switch (action.type) {\r\n    case 'ADD_PREVIEW_FILE':\r\n      return state.fileList.map(file => file.url).indexOf(action.file.url) === -1 ? {\r\n        ...state,\r\n        fileList: [...state.fileList, { url: action.file.url, name: action.file.name }],\r\n        activePreview: state.fileList.length\r\n      } : {\r\n          ...state,\r\n          activePreview: state.fileList.map(file => file.url).indexOf(action.file.url)\r\n        }\r\n    case 'REMOVE_PREVIEW_FILE':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.filter(file => file.url !== action.url),\r\n        activePreview: state.fileList.map(file => file.url).indexOf(action.url) <= state.activePreview ? state.activePreview === 0 ? state.activePreview : state.activePreview - 1 : state.activePreview\r\n      }\r\n    case 'REQUEST_PREVIEW_CONTENT':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, isContentLoaded: false } : file)\r\n      }\r\n    case 'RECEIVE_PREVIEW_CONTENT':\r\n      return {\r\n        ...state,\r\n        fileList: state.fileList.map(file => (file.url === action.file.url) ? { ...file, blob: action.blob, isContentLoaded: true } : file)\r\n      }\r\n    case 'UPDATE_PREVIEW_TAB':\r\n      return {\r\n        ...state,\r\n        activePreview: action.index\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};","const initialNotificationsState = {\r\n    notifications: []\r\n};\r\n\r\nexport const notifications = (state = initialNotificationsState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_NOTIFICATION':\r\n            return {\r\n                ...state,\r\n                notifications: [...state.notifications, action.notification]\r\n            };\r\n        case 'REMOVE_NOTIFICATION':\r\n            return {\r\n                ...state,\r\n                notifications: state.notifications.filter((e) => e.id !== action.notification.id)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};","import { combineReducers } from 'redux';\r\n\r\nimport { navigation } from './navigation'\r\nimport { preview } from './preview'\r\nimport { notifications } from './notifications'\r\n\r\nexport default combineReducers({\r\n    navigation,\r\n    preview,\r\n    notifications\r\n});","import { createStore, applyMiddleware } from 'redux'\r\nimport thunk from 'redux-thunk'\r\n\r\nimport rootReducer from './reducers'\r\n\r\nexport default createStore(rootReducer, {}, applyMiddleware(thunk));","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './Redux/configureStore'\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <BrowserRouter basename=\"/cloud\">\r\n            <Route path=\"/\" render={(props) =>\r\n                <App {...props} />\r\n            } />\r\n        </BrowserRouter>\r\n    </Provider>, document.getElementById('root'));\r\nregisterServiceWorker();\r\n"],"sourceRoot":""}